import{j as e,r,b as Wt}from"./react-vendor-DLcyn9fe.js";import{L as Qt,D as Yt,P as Y,S as ae,K as ct,C as Be,T as ce,U as Dt,I as Kt,M as ye,a as $e,b as Zt,c as Xt,d as ze,e as es,f as xe,g as xt,h as Ot,i as Je,j as le,B as ts,k as ss,l as as,m as rs,n as se,o as Xe,p as ls,q as Et,r as ds,X as Z,s as me,t as mt,u as re,v as he,E as we,F as et,w as Tt,x as ke,y as _e,z as Se,A as is,G as ns,H as je,J as jt,N as He,O as tt,Q as $t,R as st,V as gt,W as qe,Y as Nt,Z as _t,_ as os,$ as cs,a0 as Ft,a1 as xs,a2 as ms,a3 as Ee,a4 as gs,a5 as hs,a6 as vt,a7 as Ie,a8 as us,a9 as wt,aa as kt,ab as Ne,ac as ys,ad as at,ae as ps,af as bs,ag as fs,ah as js,ai as Ns,aj as Lt,ak as vs,al as ws,am as Rt,an as ks,ao as Ss,ap as St}from"./lucide-Br6A0_Vx.js";import{Q as Cs,R as ht,T as Ps,c as As,U as Is,V as ue,W as $,X as Ge,Y as Mt,Z as W,$ as Ct,a0 as ut,a1 as Ds,a2 as Os}from"./vendor-Ck8UGqj_.js";import{R as ve,L as yt,a as Te,B as Ut,b as Bt,C as rt,X as lt,Y as dt,T as it,P as Jt,c as zt,d as Ht}from"./recharts-DlNFdQNu.js";import{S as Es,R as Ts,L as $s,T as _s}from"./radix-ui-CmHW1S46.js";import pt from"./html2canvas-B0tyYwQk.js";import{E as bt}from"./jspdf-XW0Uhrbb.js";import"./lodash-CRa9LgHQ.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))f(n);new MutationObserver(n=>{for(const b of n)if(b.type==="childList")for(const o of b.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&f(o)}).observe(document,{childList:!0,subtree:!0});function h(n){const b={};return n.integrity&&(b.integrity=n.integrity),n.referrerPolicy&&(b.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?b.credentials="include":n.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function f(n){if(n.ep)return;n.ep=!0;const b=h(n);fetch(n.href,b)}})();const Fs=[{id:"dashboard",label:"Dashboard",icon:Qt,roles:["admin","manager","staff"]},{id:"products",label:"Products",icon:Y,roles:["admin","manager"],children:[{id:"data-overview",label:"Data Overview",icon:Yt,roles:["admin","manager"]}]},{id:"orders",label:"Orders",icon:ae,roles:["admin","manager","staff"]},{id:"sold-products",label:"Sold Products",icon:ct,roles:["admin","manager"]},{id:"pos",label:"Point of Sale",icon:Be,roles:["admin","manager","staff"]},{id:"analytics",label:"Analytics & Revenue",icon:ce,roles:["admin","manager"]},{id:"customers",label:"Customers",icon:Dt,roles:["admin","manager","staff"]},{id:"banners",label:"Banners",icon:Kt,roles:["admin","manager"]},{id:"outlook",label:"Outlook Accounts",icon:ye,roles:["admin"]},{id:"hr",label:"HR & Attendance",icon:$e,roles:["admin","manager"]},{id:"tasks",label:"Tasks",icon:Zt,roles:["admin","manager","staff"]},{id:"team",label:"Team Members",icon:Xt,roles:["admin","manager"]},{id:"roles",label:"Roles & Access",icon:ze,roles:["admin"]},{id:"system",label:"System",icon:es,roles:["admin"]},{id:"delivery",label:"Delivery Options",icon:xe,roles:["admin","manager"]},{id:"email-templates",label:"Email Templates",icon:ye,roles:["admin"]},{id:"settings",label:"Settings",icon:xt,roles:["admin","manager"]}];function Ls({collapsed:t,onToggleCollapse:l,onLogout:h,userRole:f="admin",userPermissions:n}){const b=c=>n&&Object.keys(n).length>0?!!(n[c.id]||c.id==="email-templates"&&f==="admin"||c.id==="data-overview"&&(f==="admin"||f==="manager")):f==="admin"?!0:c.roles.includes(f),o=Fs.reduce((c,g)=>{if(b(g)){const i={...g};i.children&&(i.children=i.children.filter(u=>b(u))),c.push(i)}return c},[]),k=(c,g=!1)=>{const i=c.icon;return e.jsxs("div",{className:"mb-1",children:[e.jsxs(Cs,{to:`/admin/${c.id}`,className:({isActive:u})=>`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all ${u?"bg-red-600 text-white shadow-lg shadow-red-500/50":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${g?"text-sm":""}`,title:t?c.label:void 0,children:[e.jsx(i,{className:`${g?"w-4 h-4":"w-5 h-5"} flex-shrink-0`}),!t&&e.jsx("span",{className:"text-sm font-medium",children:c.label})]}),c.children&&c.children.length>0&&!t&&e.jsx("div",{className:"ml-4 pl-2 border-l border-gray-200 dark:border-gray-700 mt-1 space-y-1",children:c.children.map(u=>k(u,!0))})]},c.id)};return e.jsxs("div",{className:`bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 flex flex-col ${t?"w-20":"w-64"}`,children:[e.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-gray-200 dark:border-gray-700",children:[!t&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"GU"})}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Games - Up"})]}),e.jsx("button",{onClick:l,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400",children:e.jsx(Ot,{className:`w-5 h-5 transition-transform ${t?"rotate-180":""}`})})]}),e.jsx("nav",{className:"flex-1 py-4 px-2 overflow-y-auto",children:o.map(c=>k(c))}),e.jsx("div",{className:"p-2 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("button",{onClick:h,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all",title:t?"Logout":void 0,children:[e.jsx(Je,{className:"w-5 h-5 flex-shrink-0"}),!t&&e.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})})]})}const G=void 0,Rs="/functions/v1/make-server-f6f1fb51",M=Rs;let nt=null;function De(t){nt=t}async function z(t,l={}){const h=nt||G;console.log(`[API v1.2] Fetching: ${t}`);const f={"Content-Type":"application/json",Authorization:`Bearer ${h}`,...l.headers};console.log("API Request:",{endpoint:t,hasAccessToken:!!nt,tokenPreview:h?`${h.substring(0,20)}...`:"none"});const n=await fetch(`${M}${t}`,{...l,headers:f});if(!n.ok){const b=await n.json().catch(()=>({error:"Request failed"}));throw console.error("API Error:",n.status,b),new Error(b.error||b.message||`Request failed with status ${n.status}`)}return n.json()}const Ve={signup:async(t,l,h)=>{const f=await fetch(`${M}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:l,name:h})});if(!f.ok){const n=await f.json().catch(()=>({error:"Signup failed"}));throw console.error("Signup Error:",f.status,n),new Error(n.error||n.message||"Signup failed")}return f.json()},login:async(t,l)=>{console.log("Attempting login for:",t);const h=await fetch(`${M}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:l})});if(!h.ok){const n=await h.json().catch(()=>({error:"Login failed"}));throw console.error("Login Error:",h.status,n),new Error(n.error||n.message||"Invalid login credentials")}const f=await h.json();return console.log("Login successful"),f}},oe={getAll:()=>z("/products"),getById:t=>z(`/products?id=${t}`),getPublic:(t,l)=>{const h=new URLSearchParams;return t&&h.append("category",t),l&&h.append("search",l),z(`/public/products?${h.toString()}`)},create:t=>z("/products",{method:"POST",body:t instanceof FormData?JSON.stringify(Object.fromEntries(t)):JSON.stringify(t),headers:{"Content-Type":"application/json"}}),update:(t,l)=>z(`/products/${t}`,{method:"PUT",body:l instanceof FormData?JSON.stringify(Object.fromEntries(l)):JSON.stringify(l),headers:{"Content-Type":"application/json"}}),delete:t=>z(`/products/${t}`,{method:"DELETE"}),getOverview:t=>z(`/admin/product-overview?productId=${t}`)},ot={getAll:t=>{const l=new URLSearchParams;return t?.status&&l.append("status",t.status),t?.search&&l.append("search",t.search),t?.email&&l.append("email",t.email),t?.product&&l.append("product",t.product),z(`/orders?${l.toString()}`)},update:(t,l)=>z(`/orders/${t}`,{method:"PUT",body:JSON.stringify(l)})},Ms={getAll:()=>z("/admin/customers"),update:(t,l)=>z(`/customers/${t}`,{method:"PUT",body:JSON.stringify(l)})},Pt={get:()=>z("/settings"),update:t=>z("/settings",{method:"POST",body:JSON.stringify(t)})},Pe={getAll:()=>z("/banners"),create:t=>z("/banners",{method:"POST",body:JSON.stringify(t)}),update:(t,l)=>z(`/banners/${t}`,{method:"PUT",body:JSON.stringify(l)}),delete:t=>z(`/banners/${t}`,{method:"DELETE"})},Fe={getAttendance:t=>z(`/hr/attendance?date=${t}`),getEmployees:()=>z("/hr/employees"),markAttendance:t=>z("/hr/attendance",{method:"POST",body:JSON.stringify(t)}),updateAttendance:(t,l)=>z(`/hr/attendance/${t}`,{method:"PUT",body:JSON.stringify(l)})},Ue={getAll:()=>z("/roles"),create:t=>z("/roles",{method:"POST",body:JSON.stringify(t)}),update:(t,l)=>z(`/roles/${t}`,{method:"PUT",body:JSON.stringify(l)}),delete:t=>z(`/roles/${t}`,{method:"DELETE"}),createAdminUser:t=>z("/admin/users",{method:"POST",body:JSON.stringify(t)})},Us={getSoldProducts:()=>z("/admin/sold-products")},Oe={get:t=>z(t),post:(t,l)=>z(t,{method:"POST",body:JSON.stringify(l)}),put:(t,l)=>z(t,{method:"PUT",body:JSON.stringify(l)}),delete:t=>z(t,{method:"DELETE"})};function Bs({isDarkMode:t,onToggleTheme:l,user:h,onLogout:f,onViewWebsite:n}){const b=ht(),[o,k]=r.useState(!1),[c,g]=r.useState(!1),[i,u]=r.useState([]),s=r.useRef(null),d=r.useRef(null),x=async()=>{try{const p=await Oe.get("/notifications");u(p)}catch(p){console.error("Failed to fetch notifications:",p)}},a=async p=>{try{await Oe.post(`/notifications/${p}/read`,{}),u(w=>w.map(B=>B.id===p?{...B,is_read:!0}:B))}catch(w){console.error("Failed to mark notification as read:",w)}},m=async()=>{try{await Oe.post("/notifications/read-all",{}),u(p=>p.map(w=>({...w,is_read:!0})))}catch(p){console.error("Failed to mark all notifications as read:",p)}};r.useEffect(()=>{x();const p=setInterval(x,3e4);return()=>clearInterval(p)},[]);const y=p=>p.split(" ").map(w=>w[0]).join("").toUpperCase().slice(0,2),A=h?.user_metadata?.name||h?.email||"User",S=h?.user_metadata?.role||"admin",v=y(A),C=i.filter(p=>!p.is_read).length;r.useEffect(()=>{const p=w=>{s.current&&!s.current.contains(w.target)&&k(!1),d.current&&!d.current.contains(w.target)&&g(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const O=()=>{k(!1),f&&f()};return e.jsxs("div",{className:"h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-6",children:[e.jsx("div",{className:"flex-1 max-w-xl",children:e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search anything...",className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("button",{onClick:()=>g(!c),className:"relative p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400",children:[e.jsx(ts,{className:"w-5 h-5"}),C>0&&e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),c&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-700/50",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Notifications"}),C>0&&e.jsx("button",{onClick:m,className:"text-xs text-red-600 dark:text-red-400 hover:text-red-700 font-medium",children:"Mark all read"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:i.length===0?e.jsx("div",{className:"px-4 py-6 text-center text-sm text-gray-500 dark:text-gray-400",children:"No notifications yet"}):i.map(p=>e.jsx("div",{className:`px-4 py-3 border-b border-gray-100 dark:border-gray-700/50 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors ${p.is_read?"":"bg-red-50/50 dark:bg-red-900/10"}`,onClick:()=>!p.is_read&&a(p.id),children:e.jsxs("div",{className:"flex justify-between items-start gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm ${p.is_read?"text-gray-700 dark:text-gray-300":"font-semibold text-gray-900 dark:text-white"}`,children:p.title}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:p.message}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-2",children:new Date(p.created_at).toLocaleString()})]}),!p.is_read&&e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-1.5 flex-shrink-0"})]})},p.id))})]})]}),e.jsx("button",{onClick:l,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400",children:t?e.jsx(ss,{className:"w-5 h-5"}):e.jsx(as,{className:"w-5 h-5"})}),e.jsxs("div",{className:"relative",ref:s,children:[e.jsxs("button",{onClick:()=>k(!o),className:"flex items-center gap-3 pl-4 border-l border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-colors py-2 pr-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:v})}),e.jsxs("div",{className:"hidden md:block text-left",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:A}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:S})]}),e.jsx(rs,{className:`w-4 h-4 text-gray-400 transition-transform ${o?"rotate-180":""}`})]}),o&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:A}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:h?.email}),e.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium mt-1 capitalize",children:[S," Account"]})]}),e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>k(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{children:"My Profile"})]}),e.jsxs("button",{onClick:()=>{k(!1),b("/admin/settings")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(xt,{className:"w-4 h-4"}),e.jsx("span",{children:"Settings"})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),e.jsxs("button",{onClick:O,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors font-medium",children:[e.jsx(Je,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]})]})]})]})]})]})}function Js({onLogin:t}){const[l,h]=r.useState(!1),[f,n]=r.useState(""),[b,o]=r.useState(""),[k,c]=r.useState(""),[g,i]=r.useState(""),[u,s]=r.useState(!1);r.useEffect(()=>{const a=localStorage.getItem("session");if(a)try{const m=JSON.parse(a);(!m.access_token||!m.user)&&(console.log("Clearing invalid session from localStorage"),localStorage.removeItem("session"),localStorage.removeItem("user"))}catch{localStorage.removeItem("session"),localStorage.removeItem("user")}d()},[]);const d=async()=>{try{console.log("Setting up test accounts...");const a=await fetch(`${M}/setup-accounts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`}});if(a.ok){const m=await a.json();return console.log("Test accounts setup response:",m),console.log("Available credentials:",m.credentials),!0}else{const m=await a.text();return console.error("Setup accounts failed with status:",a.status),console.error("Error response:",m),!1}}catch(a){return console.error("Setup accounts error:",a),!1}},x=async a=>{a.preventDefault(),i(""),s(!0);try{if(l){const m=await Ve.signup(f,b,k),y=await Ve.login(f,b);console.log("Login successful, setting token:",y.session.access_token?"present":"missing"),De(y.session.access_token),t(y.user,y.session)}else{const m=await Ve.login(f,b);console.log("Login successful, session:",m.session?"present":"missing"),console.log("Access token:",m.session?.access_token?"present":"missing"),De(m.session.access_token),t(m.user,m.session)}}catch(m){console.error("Auth error:",m),i(m.message||"Authentication failed")}finally{s(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-600 via-red-700 to-red-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-white shadow-2xl mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"GU"})})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Games - Up"}),e.jsx("p",{className:"text-red-100",children:"Admin Dashboard"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l?"Create Account":"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:l?"Sign up to get started":"Sign in to continue to your dashboard"})]}),g&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:g})}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:k,onChange:a=>c(a.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"John Doe",required:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:f,onChange:a=>n(a.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"admin@psstore.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsx("input",{type:"password",value:b,onChange:a=>o(a.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"••••••••",required:!0})]}),e.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 px-4 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg font-medium shadow-lg shadow-red-500/50 hover:shadow-xl hover:shadow-red-500/50 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:u?e.jsx("span",{children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"w-5 h-5"}),l?"Create Account":"Sign In"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>{h(!l),i("")},className:"text-red-600 hover:text-red-700 font-medium text-sm",children:l?"Already have an account? Sign in":"Don't have an account? Sign up"})}),!l&&e.jsxs("div",{className:"mt-6 p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("p",{className:"text-xs text-red-800 font-semibold mb-2",children:"Demo Admin Credentials:"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-red-700 font-mono",children:"Email: admin@gamesup.com"}),e.jsx("p",{className:"text-sm text-red-700 font-mono",children:"Password: admin123"})]}),e.jsx("button",{type:"button",onClick:()=>{n("admin@gamesup.com"),o("admin123")},className:"mt-3 text-xs text-red-600 hover:text-red-700 font-semibold underline",children:"Click to auto-fill credentials"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("button",{onClick:()=>{window.location.hash="#website",window.location.reload()},className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white rounded-lg font-medium text-sm transition-all border border-white/20 hover:border-white/40",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Website"]})})]})})}function Le({title:t,value:l,change:h,trend:f,icon:n,chartData:b,chartColor:o,chartType:k="line"}){return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:t}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[f==="up"?e.jsx(ce,{className:"w-4 h-4 text-green-500"}):e.jsx(ls,{className:"w-4 h-4 text-red-500"}),e.jsxs("span",{className:`text-sm font-medium ${f==="up"?"text-green-500":"text-red-500"}`,children:[h,"%"]})]})]}),e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-br from-red-500 to-red-700 shadow-lg shadow-red-500/30",children:e.jsx(n,{className:"w-5 h-5 text-white"})})]}),e.jsx(ve,{width:"100%",height:60,children:k==="line"?e.jsx(yt,{data:b,children:e.jsx(Te,{type:"monotone",dataKey:"sales",stroke:o,strokeWidth:2,dot:!1})}):e.jsx(Ut,{data:b,children:e.jsx(Bt,{dataKey:"value",fill:o,radius:[4,4,0,0]})})})]})}function fe(...t){return Ps(As(t))}function T({className:t,...l}){return e.jsx("div",{"data-slot":"card",className:fe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...l})}const zs={currency_code:"USD",currency_symbol:"$",tax_rate:8.5,website_title:"",website_description:"",website_favicon:"",store_name:"",store_email:"",store_phone:"",store_address:"",business_hours:[],payment_methods:[]},qt=r.createContext(void 0);function Hs({children:t}){const[l,h]=r.useState(zs),[f,n]=r.useState(!0),b=async()=>{try{const c=await Pt.get();let g=[];try{g=c.business_hours?JSON.parse(c.business_hours):[]}catch(u){console.error("Failed to parse business_hours",u)}let i=[];try{i=c.payment_methods?JSON.parse(c.payment_methods):[]}catch(u){console.error("Failed to parse payment_methods",u)}h({currency_code:c.currency_code||"USD",currency_symbol:c.currency_symbol||"$",tax_rate:parseFloat(c.tax_rate)||0,website_title:c.website_title||"",website_description:c.website_description||"",website_favicon:c.website_favicon||"",store_name:c.store_name||"",store_email:c.store_email||"",store_phone:c.store_phone||"",store_address:c.store_address||"",business_hours:g,payment_methods:i})}catch(c){console.error("Failed to fetch settings:",c)}finally{n(!1)}};r.useEffect(()=>{b()},[]);const o=async c=>{try{h(i=>({...i,...c}));const g={...c};g.business_hours&&(g.business_hours=JSON.stringify(g.business_hours)),g.payment_methods&&(g.payment_methods=JSON.stringify(g.payment_methods)),await Pt.update(g),await b()}catch(g){throw console.error("Failed to update settings:",g),b(),g}},k=c=>{const g=typeof c=="string"?parseFloat(c):c;return isNaN(g)?`${l.currency_symbol}0.00`:`${l.currency_symbol}${g.toFixed(2)}`};return e.jsx(qt.Provider,{value:{settings:l,loading:f,formatPrice:k,updateSettings:o,refreshSettings:b},children:t})}function de(){const t=r.useContext(qt);if(t===void 0)throw new Error("useStoreSettings must be used within a StoreSettingsProvider");return t}const Ae=[{month:"Jan",sales:4200,earning:3200},{month:"Feb",sales:3800,earning:2900},{month:"Mar",sales:5100,earning:3800},{month:"Apr",sales:4600,earning:3500},{month:"May",sales:5400,earning:4100},{month:"Jun",sales:6200,earning:4800},{month:"Jul",sales:5900,earning:4500},{month:"Aug",sales:6800,earning:5200},{month:"Sep",sales:7200,earning:5600},{month:"Oct",sales:6900,earning:5300},{month:"Nov",sales:7800,earning:6100},{month:"Dec",sales:8500,earning:6700}],qs=[{id:1,name:"PlayStation 5 Console",sales:1245,revenue:623755,image:"https://images.unsplash.com/photo-1606813907291-d86efa9b94db?w=200&h=200&fit=crop"},{id:2,name:"DualSense Controller",sales:2840,revenue:199800,image:"https://images.unsplash.com/photo-1592840496694-26d035b52b48?w=200&h=200&fit=crop"},{id:3,name:"PS5 VR Headset",sales:856,revenue:427144,image:"https://images.unsplash.com/photo-1617802690658-1173a812650d?w=200&h=200&fit=crop"},{id:4,name:"Spider-Man 2",sales:1520,revenue:106400,image:"https://images.unsplash.com/photo-1509198397868-475647b2a1e5?w=200&h=200&fit=crop"}],Gs=[{id:"#PS-10234",customer:"Alex Johnson",product:"PS5 Console + 2 Games",status:"completed",amount:599.99,date:"Jan 4, 2026"},{id:"#PS-10235",customer:"Sarah Williams",product:"DualSense Midnight Black",status:"pending",amount:74.99,date:"Jan 4, 2026"},{id:"#PS-10236",customer:"Mike Chen",product:"PS5 Digital Edition",status:"processing",amount:449.99,date:"Jan 3, 2026"},{id:"#PS-10237",customer:"Emma Davis",product:"PlayStation Plus 12-Month",status:"completed",amount:59.99,date:"Jan 3, 2026"},{id:"#PS-10238",customer:"James Wilson",product:"PS VR2 Horizon Bundle",status:"completed",amount:599.99,date:"Jan 2, 2026"}],We=[{name:"Direct",value:35,color:"#DC2626"},{name:"Social",value:25,color:"#EF4444"},{name:"Organic",value:30,color:"#F87171"},{name:"Referral",value:10,color:"#FCA5A5"}];function Vs(){const{formatPrice:t}=de();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Here is the summary of overall data"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Le,{title:"Total Revenue",value:t(847239),change:12.5,trend:"up",icon:Et,chartData:Ae,chartColor:"#3B82F6"}),e.jsx(Le,{title:"Orders",value:"12,458",change:8.2,trend:"up",icon:ae,chartData:Ae.map(l=>({value:l.sales})),chartColor:"#10B981",chartType:"bar"}),e.jsx(Le,{title:"Active Customers",value:"8,234",change:3.8,trend:"up",icon:Dt,chartData:Ae,chartColor:"#8B5CF6"}),e.jsx(Le,{title:"Conversion Rate",value:"4.8%",change:2.1,trend:"up",icon:ds,chartData:Ae,chartColor:"#EC4899"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(T,{className:"lg:col-span-2 p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Product Sales"}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Sales: 2590"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Earning: ",t(27208)]})]})]})]}),e.jsxs("select",{className:"px-3 py-1.5 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{children:"All Category"}),e.jsx("option",{children:"Consoles"}),e.jsx("option",{children:"Accessories"}),e.jsx("option",{children:"Games"})]})]}),e.jsx(ve,{width:"100%",height:300,children:e.jsxs(yt,{data:Ae,children:[e.jsx(rt,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),e.jsx(lt,{dataKey:"month",stroke:"#6B7280",fontSize:12}),e.jsx(dt,{stroke:"#6B7280",fontSize:12}),e.jsx(it,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"8px",color:"#fff"}}),e.jsx(Te,{type:"monotone",dataKey:"sales",stroke:"#DC2626",strokeWidth:2,dot:!1}),e.jsx(Te,{type:"monotone",dataKey:"earning",stroke:"#FBBF24",strokeWidth:2,dot:!1})]})})]}),e.jsxs(T,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Sales by Traffic Source"}),e.jsxs("select",{className:"px-3 py-1.5 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{children:"Monthly"}),e.jsx("option",{children:"Weekly"}),e.jsx("option",{children:"Daily"})]})]}),e.jsx(ve,{width:"100%",height:200,children:e.jsx(Jt,{children:e.jsx(zt,{data:We,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:We.map((l,h)=>e.jsx(Ht,{fill:l.color},`cell-${h}`))})})}),e.jsx("div",{className:"mt-4 space-y-2",children:We.map(l=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:l.name})]}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[l.value,"%"]})]},l.name))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(T,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Top Selling Products"}),e.jsx("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:qs.map(l=>e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("img",{src:l.image,alt:l.name,className:"w-16 h-16 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l.sales," sales"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t(l.revenue)})})]},l.id))})]}),e.jsxs(T,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Recent Orders"}),e.jsx("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:Gs.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:l.id}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${l.status==="completed"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":l.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"}`,children:l.status})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:l.customer}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-0.5",children:l.date})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t(l.amount)})})]},l.id))})]})]})]})}const Ws=Is("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function R({className:t,variant:l,size:h,asChild:f=!1,...n}){const b=f?Es:"button";return e.jsx(b,{"data-slot":"button",className:fe(Ws({variant:l,size:h,className:t})),...n})}function pe({isOpen:t,onClose:l,title:h,children:f}){return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:h}),e.jsx("button",{onClick:l,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:e.jsx(Z,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6",children:f})]})}):null}const be=({value:t,onSave:l,type:h="text",prefix:f="",options:n})=>{const[b,o]=r.useState(!1),[k,c]=r.useState(t);r.useEffect(()=>{c(t)},[t]);const g=()=>{o(!1),k!=t&&l(k)},i=u=>{u.key==="Enter"&&g()};return b?n?e.jsx("select",{autoFocus:!0,value:k,onChange:u=>c(u.target.value),onBlur:g,onKeyDown:i,className:"w-full min-w-[80px] px-2 py-1 bg-white dark:bg-gray-800 border border-blue-500 rounded text-gray-900 dark:text-white",onClick:u=>u.stopPropagation(),children:n.map(u=>e.jsx("option",{value:u,children:u},u))}):e.jsx("input",{autoFocus:!0,type:h,value:k,onChange:u=>c(u.target.value),onBlur:g,onKeyDown:i,className:"w-full min-w-[80px] px-2 py-1 bg-white dark:bg-gray-800 border border-blue-500 rounded text-gray-900 dark:text-white",onClick:u=>u.stopPropagation()}):e.jsxs("div",{onClick:u=>{u.stopPropagation(),o(!0)},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-1 rounded border border-transparent hover:border-gray-300 transition-all",children:[f,t]})};function Qs(){const{settings:t,formatPrice:l}=de(),[h,f]=r.useState([]),[n,b]=r.useState([]),[o,k]=r.useState([]),[c,g]=r.useState([]),[i,u]=r.useState(!0),[s,d]=r.useState(null),[x,a]=r.useState(!1),[m,y]=r.useState(null),[A,S]=r.useState(""),[v,C]=r.useState("All"),[O,p]=r.useState({name:"",category:"",subCategory:"",price:"",cost:"",stock:0,image:"",attributes:{},digitalItems:[]}),[w,B]=r.useState({email:"",password:"",code:""});r.useEffect(()=>{P()},[]);const P=async()=>{try{u(!0);const[j,I,N,_]=await Promise.all([fetch(`${M}/system/categories`),fetch(`${M}/system/subcategories`),fetch(`${M}/system/attributes`),oe.getAll()]);if(j.ok){const U=await j.json();b(U),U.length>0&&!O.category&&p(q=>({...q,category:U[0].name}))}I.ok&&k(await I.json()),N.ok&&g(await N.json()),f(_.products),d(null)}catch(j){console.error("Failed to load data",j),d(j.message||"Failed to load data")}finally{u(!1)}};async function J(){try{const j=await oe.getAll();f(j.products)}catch(j){console.error(j)}}const L=async(j,I,N,_=!1)=>{try{const U=h.find(V=>V.id===j);if(!U)return;let q;_?q={...U,attributes:{...U.attributes||{},[I]:N}}:q={...U,[I]:N},f(h.map(V=>V.id===j?q:V)),await oe.update(j,q)}catch(U){console.error("Error updating product:",U),J()}},ie=async j=>{const I=j.target.files?.[0];if(!I)return;const N=new FormData;N.append("image",I);try{const _=await fetch(`${M}/upload`,{method:"POST",body:N});if(!_.ok)throw new Error("Upload failed");const U=await _.json();p(q=>({...q,image:U.url}))}catch(_){console.error("Error uploading file:",_),alert("Failed to upload file")}},ee=()=>{!w.email&&!w.password&&!w.code||(p(j=>({...j,digitalItems:[...j.digitalItems,w],stock:j.stock+1})),B({email:"",password:"",code:""}))},ne=j=>{p(I=>({...I,digitalItems:I.digitalItems.filter((N,_)=>_!==j),stock:Math.max(0,I.stock-1)}))},E=()=>{const I=["Email,Password,Code"].join(`
`),N=new Blob([I],{type:"text/csv"}),_=window.URL.createObjectURL(N),U=document.createElement("a");U.href=_,U.download="digital_products_template.csv",U.click(),window.URL.revokeObjectURL(_)},H=j=>{const I=j.target.files?.[0];if(!I)return;const N=new FileReader;N.onload=_=>{const q=(_.target?.result).split(`
`),V=[];for(let Q=1;Q<q.length;Q++){const X=q[Q].trim();if(!X)continue;const[ge,Ce,ft]=X.split(",").map(Vt=>Vt.trim());(ge||Ce||ft)&&V.push({email:ge,password:Ce,code:ft})}p(Q=>({...Q,digitalItems:[...Q.digitalItems,...V],stock:Q.stock+V.length}))},N.readAsText(I),j.target.value=""},K=async()=>{try{const j=O.stock>10?"In Stock":"Low Stock",I={...O,status:j,image:O.image||"https://images.unsplash.com/photo-1606813907291-d86efa9b94db?w=100&h=100&fit=crop"};m?await oe.update(m.id,I):await oe.create(I),await J(),a(!1),y(null),p({name:"",category:n[0]?.name||"",price:"",cost:"",stock:0,image:"",digitalItems:[]}),B({email:"",password:"",code:""})}catch(j){console.error("Error saving product:",j),alert("Failed to save product")}},te=async j=>{if(confirm("Are you sure you want to delete this product?"))try{await oe.delete(j),await J()}catch(I){console.error("Error deleting product:",I),alert("Failed to delete product")}},D=j=>{y(j),p({name:j.name,category:j.category,price:j.price.toString().replace("$",""),cost:j.cost?j.cost.toString().replace("$",""):"",stock:j.stock,image:j.image,purchasedEmail:j.purchasedEmail||"",purchasedPassword:j.purchasedPassword||"",productCode:j.productCode||"",digitalItems:j.digitalItems||[]}),a(!0)},F=(h||[]).filter(j=>{const I=j.name.toLowerCase().includes(A.toLowerCase()),N=v==="All"||j.category===v;return I&&N});return i?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading products..."})}):s?e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-4",children:[e.jsx("div",{className:"text-red-600 dark:text-red-400",children:s}),e.jsx(R,{onClick:J,children:"Try Again"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Products"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your product inventory"})]}),e.jsx(R,{onClick:()=>{y(null),p({name:"",category:n[0]?.name||"",price:"",cost:"",stock:0,image:"",digitalItems:[]}),B({email:"",password:"",code:""}),a(!0)},icon:me,children:"Add Product"})]}),e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products...",value:A,onChange:j=>S(j.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),e.jsxs("select",{value:v,onChange:j=>C(j.target.value),className:"px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{children:"All"}),n.map(j=>e.jsx("option",{value:j.name,children:j.name},j.id))]})]})}),e.jsx(T,{className:"p-8",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Product"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Category"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Sub Category"}),c.filter(j=>j.isActive).map(j=>e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:j.name},j.id)),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Price"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Cost"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Stock"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),e.jsx("tbody",{children:F.map(j=>e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:j.image,alt:j.name,className:"w-12 h-12 rounded-lg object-cover"}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.jsx(be,{value:j.name,onSave:I=>L(j.id,"name",I)})})]})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsx(be,{value:j.category,onSave:I=>L(j.id,"category",I),options:n.map(I=>I.name)})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsx(be,{value:j.subCategory||"",onSave:I=>L(j.id,"subCategory",I),options:(()=>{const I=n.find(N=>N.slug===j.categorySlug||N.name===j.category);return I?o.filter(N=>N.categoryId===I.id&&N.isActive).map(N=>N.name):[]})()})}),c.filter(I=>I.isActive).map(I=>e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsx(be,{value:j.attributes?.[I.name]||"",onSave:N=>L(j.id,I.name,N,!0),options:I.options&&I.options.length>0?I.options:void 0,type:I.type==="number"?"number":"text"})},I.id)),e.jsx("td",{className:"py-4 px-4 text-sm font-medium text-gray-900 dark:text-white",children:e.jsx(be,{value:j.price,onSave:I=>L(j.id,"price",parseFloat(I)),prefix:t.currency_symbol,type:"number"})}),e.jsx("td",{className:"py-4 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:e.jsx(be,{value:j.cost||0,onSave:I=>L(j.id,"cost",parseFloat(I)),prefix:t.currency_symbol,type:"number"})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsx(be,{value:j.stock,onSave:I=>L(j.id,"stock",parseInt(I)),type:"number"})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.status==="In Stock"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:j.status})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>D(j),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:e.jsx(mt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>te(j.id),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(re,{className:"w-4 h-4"})})]})})]},j.id))})]})})}),e.jsx(pe,{isOpen:x,onClose:()=>{a(!1),y(null),p({name:"",category:n[0]?.name||"",price:"",cost:"",stock:0,image:"",digitalItems:[]})},title:m?"Edit Product":"Add New Product",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Product Name"}),e.jsx("input",{type:"text",value:O.name,onChange:j=>p({...O,name:j.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter product name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsx("select",{value:O.category,onChange:j=>p({...O,category:j.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:n.map(j=>e.jsx("option",{value:j.name,children:j.name},j.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sub Category"}),e.jsxs("select",{value:O.subCategory,onChange:j=>p({...O,subCategory:j.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"",children:"Select Sub Category"}),(()=>{const j=n.find(I=>I.name===O.category);return j?o.filter(I=>I.categoryId===j.id&&I.isActive).map(I=>e.jsx("option",{value:I.name,children:I.name},I.id)):[]})()]})]})]}),c.filter(j=>j.isActive).length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-4",children:c.filter(j=>j.isActive).map(j=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:j.name}),j.options&&j.options.length>0?e.jsxs("select",{value:O.attributes?.[j.name]||"",onChange:I=>p({...O,attributes:{...O.attributes,[j.name]:I.target.value}}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsxs("option",{value:"",children:["Select ",j.name]}),j.options.map(I=>e.jsx("option",{value:I,children:I},I))]}):e.jsx("input",{type:j.type==="number"?"number":"text",value:O.attributes?.[j.name]||"",onChange:I=>p({...O,attributes:{...O.attributes,[j.name]:I.target.value}}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:`Enter ${j.name}`})]},j.id))}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Price (",t.currency_symbol,")"]}),e.jsx("input",{type:"number",step:"0.01",value:O.price,onChange:j=>p({...O,price:parseFloat(j.target.value)||0}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Cost (",t.currency_symbol,")"]}),e.jsx("input",{type:"number",step:"0.01",value:O.cost,onChange:j=>p({...O,cost:parseFloat(j.target.value)||0}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Stock Quantity"}),e.jsx("input",{type:"number",value:O.stock,onChange:j=>p({...O,stock:parseInt(j.target.value)||0}),disabled:O.digitalItems.length>0,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${O.digitalItems.length>0?"bg-gray-100 dark:bg-gray-800 text-gray-500 cursor-not-allowed border-gray-200 dark:border-gray-700":"bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white border-gray-200 dark:border-gray-600"}`,placeholder:"0"}),O.digitalItems.length>0&&e.jsx("p",{className:"mt-1 text-xs text-blue-600 dark:text-blue-400",children:"Stock is automatically calculated from the number of digital items."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Image URL (optional)"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:O.image,onChange:j=>p({...O,image:j.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://..."}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 flex-1"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"OR UPLOAD"}),e.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 flex-1"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:ie,className:"w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100 dark:file:bg-red-900/30 dark:file:text-red-400"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs rounded",children:"Admin Only"}),"Digital Stock Items"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(R,{variant:"secondary",onClick:E,className:"text-xs py-1 h-8 dark:text-white",children:"Download Template"}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("span",{className:"inline-flex items-center justify-center px-3 py-1 text-xs font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors h-8",children:"Import CSV"}),e.jsx("input",{type:"file",accept:".csv",onChange:H,className:"hidden"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg mb-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[e.jsx("input",{type:"email",value:w.email,onChange:j=>B({...w,email:j.target.value}),className:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Email"}),e.jsx("input",{type:"text",value:w.password,onChange:j=>B({...w,password:j.target.value}),className:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Password"}),e.jsx("input",{type:"text",value:w.code,onChange:j=>B({...w,code:j.target.value}),className:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Code/Key"})]}),e.jsx(R,{onClick:ee,className:"w-full text-sm py-1",disabled:!w.email&&!w.password&&!w.code,children:"Add Item (+)"})]}),O.digitalItems.length>0&&e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-500 dark:text-gray-400",children:"Password"}),e.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-500 dark:text-gray-400",children:"Code"}),e.jsx("th",{className:"w-10"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:O.digitalItems.map((j,I)=>e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("td",{className:"py-2 px-3 text-gray-900 dark:text-gray-300 truncate max-w-[100px]",children:j.email}),e.jsx("td",{className:"py-2 px-3 text-gray-900 dark:text-gray-300 truncate max-w-[100px]",children:j.password}),e.jsx("td",{className:"py-2 px-3 font-mono text-gray-600 dark:text-gray-400 truncate max-w-[100px]",children:j.code}),e.jsx("td",{className:"py-2 px-3 text-right",children:e.jsx("button",{onClick:()=>ne(I),className:"text-red-500 hover:text-red-700",children:e.jsx(re,{className:"w-4 h-4"})})})]},I))})]})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Total Digital Stock: ",O.digitalItems.length," items (Stock quantity updated automatically)"]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(R,{variant:"secondary",onClick:()=>{a(!1),y(null),p({name:"",category:"Consoles",price:"",cost:"",stock:0,image:"",digitalItems:[]})},className:"dark:text-white",children:"Cancel"}),e.jsx(R,{onClick:K,className:"dark:text-white",children:m?"Update Product":"Add Product"})]})]})})]})}function Ys(){const[t,l]=r.useState([]),[h,f]=r.useState(""),[n,b]=r.useState(!1),[o,k]=r.useState(null),[c,g]=r.useState("overview");r.useEffect(()=>{i()},[]),r.useEffect(()=>{h&&u(h)},[h]);const i=async()=>{try{const s=await oe.getAll();s.products&&(l(s.products),s.products.length>0&&f(s.products[0].id.toString()))}catch(s){console.error("Failed to load products",s)}},u=async s=>{b(!0);try{const d=await oe.getOverview(s);k(d)}catch(d){console.error("Failed to load overview",d)}finally{b(!1)}};return!h&&t.length===0?e.jsx("div",{className:"p-6",children:"Loading products..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Product Data Overview"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Track inventory, sales, and customers per product"})]}),e.jsxs("div",{className:"w-full md:w-64",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select Product"}),e.jsx("select",{value:h,onChange:s=>f(s.target.value),className:"w-full px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white",children:t.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))})]})]}),n?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-500",children:"Loading data..."})]}):o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(T,{className:"p-6 bg-blue-50 dark:bg-blue-900/20 border-blue-100 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(Y,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Total Inventory"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.stats.totalRemaining+o.stats.totalSold})]})]})}),e.jsx(T,{className:"p-6 bg-green-50 dark:bg-green-900/20 border-green-100 dark:border-green-800",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:e.jsx(ae,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Sold Items"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.stats.totalSold})]})]})}),e.jsx(T,{className:"p-6 bg-orange-50 dark:bg-orange-900/20 border-orange-100 dark:border-orange-800",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900 rounded-lg",children:e.jsx(ct,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Remaining Stock"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.stats.totalRemaining})]})]})})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsxs("nav",{className:"flex gap-6",children:[e.jsx("button",{onClick:()=>g("overview"),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${c==="overview"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Overview"}),e.jsx("button",{onClick:()=>g("sold"),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${c==="sold"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Sold / Used Keys"}),e.jsx("button",{onClick:()=>g("customers"),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${c==="customers"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Customers"}),e.jsx("button",{onClick:()=>g("inventory"),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${c==="inventory"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Remaining Inventory"})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:[c==="sold"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:"Date"}),e.jsx("th",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:"Customer"}),e.jsx("th",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:"Order"}),e.jsx("th",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:"Sent Data (Email / Pass / Code)"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:o.soldItems.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500 font-medium",children:"No items sold yet."})}):o.soldItems.map((s,d)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-gray-100 font-medium",children:new Date(s.date).toLocaleDateString()}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:s.customerName}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:s.customerEmail})]}),e.jsx("td",{className:"px-6 py-4 text-blue-700 dark:text-blue-300 font-mono font-bold",children:s.orderNumber}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-1",children:[s.code&&e.jsxs("div",{className:"text-xs bg-gray-200 dark:bg-gray-600 text-gray-900 dark:text-gray-100 px-2 py-1 rounded inline-block mr-2 font-mono",children:[e.jsx("span",{className:"font-bold",children:"Code:"})," ",s.code]}),s.email&&e.jsxs("div",{className:"text-xs text-gray-800 dark:text-gray-200 font-medium",children:[e.jsx("span",{className:"font-bold",children:"Email:"})," ",s.email]}),s.password&&e.jsxs("div",{className:"text-xs text-gray-800 dark:text-gray-200 font-medium",children:[e.jsx("span",{className:"font-bold",children:"Pass:"})," ",s.password]})]})})]},d))})]})}),c==="customers"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:"Customer Name"}),e.jsx("th",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:"Email"}),e.jsx("th",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:"Last Purchase Date"}),e.jsx("th",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:"Order Ref"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:o.customers.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No customers found."})}):o.customers.map((s,d)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:s.name}),e.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:s.email}),e.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:new Date(s.date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300 font-mono",children:s.orderNumber})]},d))})]})}),c==="inventory"&&e.jsxs("div",{className:"overflow-x-auto",children:[e.jsx("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-b border-yellow-100 dark:border-yellow-800",children:e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 font-medium",children:"These items are currently available in stock and will be automatically assigned to new orders."})}),e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:"#"}),e.jsx("th",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:"Code"}),e.jsx("th",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:"Account Email"}),e.jsx("th",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:"Account Password"}),e.jsx("th",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:o.remainingItems.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 font-medium",children:"No items in inventory."})}):o.remainingItems.map((s,d)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-gray-100 font-medium",children:d+1}),e.jsx("td",{className:"px-6 py-4 font-mono font-bold text-gray-900 dark:text-white",children:s.code||"-"}),e.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-gray-100 font-medium",children:s.email||"-"}),e.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-gray-100 font-mono font-medium",children:s.password||"-"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Available"})})]},d))})]})]}),c==="overview"&&e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between border-b border-gray-100 dark:border-gray-700 py-2",children:[e.jsx("span",{className:"text-gray-500",children:"Product Name"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:o.product.name})]}),e.jsxs("div",{className:"flex justify-between border-b border-gray-100 dark:border-gray-700 py-2",children:[e.jsx("span",{className:"text-gray-500",children:"Total Sales Volume"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[o.stats.totalSold," Units"]})]}),e.jsxs("div",{className:"flex justify-between border-b border-gray-100 dark:border-gray-700 py-2",children:[e.jsx("span",{className:"text-gray-500",children:"Current Stock Level"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[o.stats.totalRemaining," Units"]})]}),e.jsxs("div",{className:"flex justify-between border-b border-gray-100 dark:border-gray-700 py-2",children:[e.jsx("span",{className:"text-gray-500",children:"Last Sale Date"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:o.soldItems.length>0?new Date(o.soldItems[0].date).toLocaleDateString():"N/A"})]})]})]})]})]}):e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Select a product to view details."})]})}const Re=({value:t,onSave:l,type:h="text",prefix:f="",options:n,className:b=""})=>{const[o,k]=r.useState(!1),[c,g]=r.useState(t);r.useEffect(()=>{g(t)},[t]);const i=()=>{k(!1),c!=t&&l(c)},u=s=>{s.key==="Enter"&&i()};return o?n?e.jsx("select",{autoFocus:!0,value:c,onChange:s=>g(s.target.value),onBlur:i,onKeyDown:u,className:"w-full min-w-[80px] px-2 py-1 bg-white dark:bg-gray-800 border border-blue-500 rounded text-gray-900 dark:text-white",onClick:s=>s.stopPropagation(),children:n.map(s=>e.jsx("option",{value:s,children:s},s))}):e.jsx("input",{autoFocus:!0,type:h,value:c,onChange:s=>g(s.target.value),onBlur:i,onKeyDown:u,className:"w-full min-w-[80px] px-2 py-1 bg-white dark:bg-gray-800 border border-blue-500 rounded text-gray-900 dark:text-white",onClick:s=>s.stopPropagation()}):e.jsxs("div",{onClick:s=>{s.stopPropagation(),k(!0)},className:`cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-1 rounded border border-transparent hover:border-gray-300 transition-all ${b}`,children:[f,t||"-"]})};function Ks(){const{settings:t,formatPrice:l}=de(),[h,f]=r.useState([]),[n,b]=r.useState(!0),[o,k]=r.useState(""),[c,g]=r.useState("All"),[i,u]=r.useState("All"),[s,d]=r.useState([]),[x,a]=r.useState(!1),[m,y]=r.useState(!1),[A,S]=r.useState(null),[v,C]=r.useState(null);r.useEffect(()=>{O()},[]);const O=async()=>{try{const E=await oe.getAll();d(E.products||[])}catch(E){console.error("Failed to load products:",E)}};r.useEffect(()=>{p()},[o,c,i]);const p=async()=>{try{b(!0);const E=await ot.getAll({status:c,search:o,product:i});f(E.orders||[])}catch(E){console.error(E)}finally{b(!1)}},w=async(E,H)=>{try{f(h.map(K=>K.id===E?{...K,...H}:K)),await ot.update(E,H)}catch(K){console.error("Failed to update order:",K),p()}},B=async(E,H)=>{w(E,{status:H})},P=async(E,H)=>{S(H)},J=E=>{C(E),y(!0)},L=async()=>{const E=document.getElementById("invoice-content");if(!(!E||!v))try{const H=await pt(E,{scale:2,logging:!1,useCORS:!0,onclone:j=>{j.documentElement.classList.remove("dark");const I=j.getElementById("invoice-content");I&&(I.style.backgroundColor="#ffffff",I.style.color="#111827")}}),K=H.toDataURL("image/png"),te=new bt({orientation:"portrait",unit:"mm",format:"a4"}),D=210,F=H.height*D/H.width;te.addImage(K,"PNG",0,0,D,F),te.save(`invoice-${v.orderNumber||v.id}.pdf`)}catch(H){console.error("Error generating PDF:",H),alert("Failed to generate PDF")}},ie=()=>{window.print()},ee=E=>{C(E),a(!0)},ne=E=>{switch(E){case"completed":return"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300 border border-green-200 dark:border-green-800";case"pending":return"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-800";case"pending_approval":return"bg-orange-100 dark:bg-orange-900/50 text-orange-800 dark:text-orange-300 border border-orange-200 dark:border-orange-800";case"processing":return"bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-300 border border-blue-200 dark:border-blue-800";case"shipped":return"bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300 border border-purple-200 dark:border-purple-800";case"cancelled":return"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300 border border-red-200 dark:border-red-800";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300 border border-gray-200 dark:border-gray-700"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Orders"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage and track all orders"})]}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 shadow-lg shadow-blue-500/30",children:[e.jsx(he,{className:"w-4 h-4"}),"Export"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:h.length})]}),e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1",children:h.filter(E=>E.status==="pending").length})]}),e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Processing"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1",children:h.filter(E=>E.status==="processing").length})]}),e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:h.filter(E=>E.status==="completed").length})]}),e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cancelled"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:h.filter(E=>E.status==="cancelled").length})]})]}),e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search orders or customers...",value:o,onChange:E=>k(E.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),e.jsxs("select",{value:i,onChange:E=>u(E.target.value),className:"px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"All",children:"All Products"}),s.map(E=>e.jsx("option",{value:E.name,children:E.name},E.id))]}),e.jsxs("select",{value:c,onChange:E=>g(E.target.value),className:"px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{children:"All"}),e.jsx("option",{children:"Pending"}),e.jsx("option",{children:"Processing"}),e.jsx("option",{children:"Shipped"}),e.jsx("option",{children:"Completed"}),e.jsx("option",{children:"Cancelled"})]})]})}),e.jsx(T,{className:"p-8",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Order ID"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Customer"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Product"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Digital Email"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Digital Password"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Digital Code"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Inventory ID"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Payment Method"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Proof"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Date"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Amount"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Action"})]})}),e.jsx("tbody",{children:n?e.jsx("tr",{children:e.jsx("td",{colSpan:13,className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Loading orders..."})}):h.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:13,className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No orders found"})}):h.map(E=>e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4 font-medium text-gray-900 dark:text-white",children:E.id}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:E.customer}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:E.email})]})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsxs("div",{children:[e.jsx("p",{children:E.product}),e.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:[E.items," item(s)"]})]})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300 truncate max-w-[100px]",children:e.jsx(Re,{value:E.digital_email||"",onSave:H=>w(E.id,{digital_email:String(H)}),className:"truncate block"})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300 truncate max-w-[100px]",children:e.jsx(Re,{value:E.digital_password||"",onSave:H=>w(E.id,{digital_password:String(H)}),className:"truncate block"})}),e.jsx("td",{className:"py-4 px-4 text-sm font-mono text-gray-600 dark:text-gray-300 truncate max-w-[100px]",children:e.jsx(Re,{value:E.digital_code||"",onSave:H=>w(E.id,{digital_code:String(H)}),className:"truncate block"})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:E.inventory_id==="POS"?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:"POS"}):e.jsx(Re,{value:E.inventory_id||"",onSave:H=>w(E.id,{inventory_id:String(H)})})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsx("span",{className:"capitalize",children:E.payment_method?.replace("_"," ")||"N/A"})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:E.payment_proof?e.jsxs("button",{onClick:()=>P(E.id,E.payment_proof),className:"text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(we,{className:"w-4 h-4"}),"View"]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:E.date}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("select",{value:E.status,onChange:H=>B(E.id,H.target.value),className:`px-2 py-1 rounded-full text-xs font-medium border-none focus:ring-2 focus:ring-offset-1 cursor-pointer ${ne(E.status)}`,children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"pending_approval",children:"Pending Approval"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),e.jsx("td",{className:"py-4 px-4 font-medium text-gray-900 dark:text-white",children:l(E.amount)}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>ee(E),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"View Invoice",children:e.jsx(et,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ee(E),className:"p-2 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Download Invoice",children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>J(E),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"View Details",children:e.jsx(we,{className:"w-4 h-4"})})]})})]},E.id))})]})})}),e.jsxs(ue,{children:[x&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto text-black",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 print:hidden",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invoice Generated"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:L,className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Download PDF",children:e.jsx(he,{className:"w-5 h-5"})}),e.jsx("button",{onClick:ie,className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Print Invoice",children:e.jsx(Tt,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(Z,{className:"w-6 h-6"})})]})]}),e.jsxs("div",{className:"space-y-6",id:"invoice-content",style:{"--color-gray-50":"#f9fafb","--color-gray-100":"#f3f4f6","--color-gray-200":"#e5e7eb","--color-gray-300":"#d1d5db","--color-gray-400":"#9ca3af","--color-gray-500":"#6b7280","--color-gray-600":"#4b5563","--color-gray-700":"#374151","--color-gray-800":"#1f2937","--color-gray-900":"#111827","--color-red-600":"#dc2626",backgroundColor:"#ffffff",color:"#111827"},children:[e.jsxs("div",{className:"flex justify-between items-start border-b border-gray-200 pb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"GamesUp Store"}),e.jsx("p",{className:"text-gray-500",children:"123 Gaming Street"}),e.jsx("p",{className:"text-gray-500",children:"Tech City, TC 90210"}),e.jsx("p",{className:"text-gray-500",children:"contact@gamesup.com"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["Invoice #",v.orderNumber||v.id]}),e.jsx("p",{className:"text-gray-500",children:v.date})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-8 border-b border-gray-200 pb-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Bill To:"}),e.jsx("p",{className:"text-gray-600",children:v.customer}),e.jsx("p",{className:"text-gray-600",children:v.email})]})}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-2 text-sm font-semibold text-gray-900",children:"Item"}),e.jsx("th",{className:"text-center py-2 text-sm font-semibold text-gray-900",children:"Qty"}),e.jsx("th",{className:"text-right py-2 text-sm font-semibold text-gray-900",children:"Price"}),e.jsx("th",{className:"text-right py-2 text-sm font-semibold text-gray-900",children:"Total"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 text-sm text-gray-600",children:e.jsx("div",{children:v.product})}),e.jsx("td",{className:"py-3 text-center text-sm text-gray-600",children:v.items}),e.jsx("td",{className:"py-3 text-right text-sm text-gray-600",children:l(v.amount)}),e.jsx("td",{className:"py-3 text-right text-sm font-medium text-gray-900",children:l(v.amount)})]})})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),e.jsx("span",{className:"font-medium text-gray-900",children:l(v.amount)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 pt-2",children:[e.jsx("span",{className:"text-gray-900",children:"Total:"}),e.jsx("span",{className:"text-red-600",children:l(v.amount)})]})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center text-sm text-gray-500 print:hidden",children:e.jsx("p",{children:"Thank you for your business!"})})]})})}),m&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Order Details"}),e.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-gray-500 dark:text-gray-400",children:e.jsx(Z,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Order ID"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:v.orderNumber||v.id})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Status"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ne(v.status)}`,children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Date"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:v.date})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Total Amount"}),e.jsx("p",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:l(v.amount)})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:v.customer})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:v.email})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Product Details"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:v.product}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[v.items," item(s)"]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"p-1 bg-blue-100 dark:bg-blue-900/30 rounded text-blue-600 dark:text-blue-400",children:e.jsx(et,{className:"w-4 h-4"})}),"Digital Delivery"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 bg-blue-50 dark:bg-blue-900/10 rounded-xl p-6 border border-blue-100 dark:border-blue-800",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Digital Email"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("input",{type:"text",value:v.digital_email||"",readOnly:!0,className:"flex-1 bg-white dark:bg-gray-800 border-none rounded-lg py-2 px-3 text-gray-900 dark:text-white shadow-sm"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Password"}),e.jsx("input",{type:"text",value:v.digital_password||"",readOnly:!0,className:"w-full bg-white dark:bg-gray-800 border-none rounded-lg py-2 px-3 text-gray-900 dark:text-white shadow-sm font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"License Code"}),e.jsx("input",{type:"text",value:v.digital_code||"",readOnly:!0,className:"w-full bg-white dark:bg-gray-800 border-none rounded-lg py-2 px-3 text-gray-900 dark:text-white shadow-sm font-mono tracking-widest"})]})]}),v.inventory_id&&e.jsx("div",{className:"pt-2 border-t border-blue-200 dark:border-blue-800/50 mt-2",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Linked Inventory ID: ",e.jsx("span",{className:"font-mono text-gray-700 dark:text-gray-300",children:v.inventory_id})]})})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 italic",children:"* These credentials are provided to the customer upon order completion."})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Close"}),e.jsx("button",{onClick:()=>{y(!1),a(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View Invoice"})]})]})})}),A&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>S(null),children:e.jsxs($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:E=>E.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Payment Proof"}),e.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-gray-500 dark:text-gray-400",children:e.jsx(Z,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"flex-1 overflow-auto p-4 bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("img",{src:A,alt:"Payment Proof",className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"})}),e.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[e.jsxs("button",{onClick:()=>window.open(A,"_blank"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4"}),"Open Original"]}),e.jsx("button",{onClick:()=>S(null),className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Close"})]})]})})]})]})}const At=[{month:"Jan",revenue:45200,orders:234,profit:18500},{month:"Feb",revenue:38900,orders:198,profit:15800},{month:"Mar",revenue:52300,orders:276,profit:21200},{month:"Apr",revenue:48700,orders:251,profit:19400},{month:"May",revenue:59100,orders:312,profit:24100},{month:"Jun",revenue:67800,orders:358,profit:28300},{month:"Jul",revenue:63400,orders:334,profit:26200},{month:"Aug",revenue:72500,orders:389,profit:30800},{month:"Sep",revenue:78900,orders:421,profit:33500},{month:"Oct",revenue:71200,orders:374,profit:29800},{month:"Nov",revenue:84600,orders:456,profit:36200},{month:"Dec",revenue:92300,orders:498,profit:39500}],Qe=[{name:"Consoles",value:42,color:"#DC2626"},{name:"Games",value:28,color:"#EF4444"},{name:"Accessories",value:20,color:"#F87171"},{name:"Services",value:10,color:"#FCA5A5"}],Zs=[{region:"North America",revenue:342500,growth:15.2,flag:"🇺🇸"},{region:"Europe",revenue:289300,growth:12.8,flag:"🇪🇺"},{region:"Asia Pacific",revenue:215600,growth:24.5,flag:"🇯🇵"},{region:"Latin America",revenue:98400,growth:18.3,flag:"🇧🇷"},{region:"Middle East",revenue:54200,growth:9.7,flag:"🇦🇪"}];function Xs(){const{formatPrice:t}=de(),[l,h]=r.useState("12months");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analytics & Revenue"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Detailed insights and performance metrics"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:l,onChange:f=>h(f.target.value),className:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"7days",children:"Last 7 Days"}),e.jsx("option",{value:"30days",children:"Last 30 Days"}),e.jsx("option",{value:"3months",children:"Last 3 Months"}),e.jsx("option",{value:"12months",children:"Last 12 Months"})]}),e.jsx(R,{icon:he,children:"Export Report"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Revenue"}),e.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:t(847239)}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(ce,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-green-500",children:"+18.2%"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"vs last year"})]})]}),e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-br from-green-500 to-green-700 shadow-lg shadow-green-500/30",children:e.jsx(ce,{className:"w-6 h-6 text-white"})})]})}),e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Net Profit"}),e.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:t(312845)}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(ce,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-green-500",children:"+22.4%"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"vs last year"})]})]}),e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-br from-blue-500 to-blue-700 shadow-lg shadow-blue-500/30",children:e.jsx(ce,{className:"w-6 h-6 text-white"})})]})}),e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg. Order Value"}),e.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:t(68.02)}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(ce,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-green-500",children:"+5.8%"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"vs last year"})]})]}),e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-br from-purple-500 to-purple-700 shadow-lg shadow-purple-500/30",children:e.jsx(ce,{className:"w-6 h-6 text-white"})})]})})]}),e.jsxs(T,{className:"p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Revenue Overview"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Monthly revenue and profit trends"})]})}),e.jsx(ve,{width:"100%",height:350,children:e.jsxs(yt,{data:At,children:[e.jsx(rt,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),e.jsx(lt,{dataKey:"month",stroke:"#6B7280",fontSize:12}),e.jsx(dt,{stroke:"#6B7280",fontSize:12}),e.jsx(it,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"8px",color:"#fff"}}),e.jsx(Te,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:3,dot:{r:4}}),e.jsx(Te,{type:"monotone",dataKey:"profit",stroke:"#10B981",strokeWidth:3,dot:{r:4}})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(T,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-6",children:"Revenue by Category"}),e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx(ve,{width:"100%",height:200,children:e.jsx(Jt,{children:e.jsx(zt,{data:Qe,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:5,dataKey:"value",children:Qe.map((f,n)=>e.jsx(Ht,{fill:f.color},`cell-${n}`))})})})}),e.jsx("div",{className:"space-y-3",children:Qe.map(f=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:f.color}}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:f.name})]}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[f.value,"%"]})]},f.name))})]}),e.jsxs(T,{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-6",children:"Top Regions by Revenue"}),e.jsx("div",{className:"space-y-4",children:Zs.map((f,n)=>e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-700 text-2xl",children:f.flag}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:f.region}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t(f.revenue)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-red-500 to-red-600 rounded-full",style:{width:`${f.growth*3}%`}})}),e.jsxs("span",{className:"text-xs font-medium text-green-500",children:["+",f.growth,"%"]})]})]})]},f.region))})]})]}),e.jsxs(T,{className:"p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Monthly Orders"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Total orders processed each month"})]})}),e.jsx(ve,{width:"100%",height:250,children:e.jsxs(Ut,{data:At,children:[e.jsx(rt,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),e.jsx(lt,{dataKey:"month",stroke:"#6B7280",fontSize:12}),e.jsx(dt,{stroke:"#6B7280",fontSize:12}),e.jsx(it,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"8px",color:"#fff"}}),e.jsx(Bt,{dataKey:"orders",fill:"#DC2626",radius:[8,8,0,0]})]})})]})]})}function ea(){const{settings:t,formatPrice:l}=de(),[h,f]=r.useState([]),[n,b]=r.useState(!0),[o,k]=r.useState(""),[c,g]=r.useState(null),[i,u]=r.useState([]),[s,d]=r.useState(!1);r.useEffect(()=>{a()},[]),r.useEffect(()=>{c?.email&&x(c.email)},[c]);const x=async y=>{try{d(!0);const A=await ot.getAll({email:y});u(A.orders||[])}catch(A){console.error("Failed to load customer orders:",A),u([])}finally{d(!1)}},a=async()=>{try{b(!0);const y=await Ms.getAll();y&&y.customers&&f(y.customers)}catch(y){console.error("Failed to load customers:",y)}finally{b(!1)}},m=h.filter(y=>y.name.toLowerCase().includes(o.toLowerCase())||y.email.toLowerCase().includes(o.toLowerCase()));return n?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading customers..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Customers"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage customer profiles and relationships"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Customers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:h.length})]}),e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"VIP Customers"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1",children:h.filter(y=>y.status==="VIP").length})]}),e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg. Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:h.length>0?Math.round(h.reduce((y,A)=>y+A.orders,0)/h.length):0})]}),e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lifetime Value"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:l(h.reduce((y,A)=>y+A.spent,0))})]})]}),e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search customers...",value:o,onChange:y=>k(y.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:m.length===0?e.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No customers found."}):m.map(y=>e.jsx(T,{className:"cursor-pointer hover:shadow-lg hover:border-red-500 dark:hover:border-red-500 transition-all p-8",onClick:()=>g(y),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("img",{src:y.avatar,alt:y.name,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:y.name}),y.status==="VIP"&&e.jsxs("span",{className:"px-2 py-0.5 bg-gradient-to-r from-yellow-400 to-yellow-600 text-white text-xs font-medium rounded-full flex items-center gap-1",children:[e.jsx(ke,{className:"w-3 h-3"}),"VIP"]})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:y.email}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Orders"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:y.orders})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Spent"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:l(y.spent)})]})]})]})]})},y.id))}),c&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-end",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>g(null)}),e.jsxs("div",{className:"relative w-full max-w-lg h-full bg-white dark:bg-gray-800 shadow-2xl overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex items-center justify-between z-10",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Customer Details"}),e.jsx("button",{onClick:()=>g(null),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:e.jsx(Z,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("img",{src:c.avatar,alt:c.name,className:"w-20 h-20 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:c.name}),c.status==="VIP"&&e.jsxs("span",{className:"px-2 py-0.5 bg-gradient-to-r from-yellow-400 to-yellow-600 text-white text-xs font-medium rounded-full flex items-center gap-1",children:[e.jsx(ke,{className:"w-3 h-3"}),"VIP"]})]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Customer since ",c.joinDate]})]})]}),e.jsxs(T,{className:"p-8",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20",children:e.jsx(ye,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:c.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-50 dark:bg-green-900/20",children:e.jsx(_e,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Phone"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:c.phone})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-50 dark:bg-purple-900/20",children:e.jsx(Se,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Location"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:c.location})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(T,{className:"p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:c.orders})]}),e.jsxs(T,{className:"p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Spent"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:l(c.spent)})]})]}),e.jsxs(T,{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Orders"}),e.jsx("div",{className:"space-y-3",children:s?e.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading orders..."}):i.length===0?e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No orders found."}):i.map(y=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:y.orderNumber}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:y.product}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:y.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:l(y.amount)}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${y.status==="completed"||y.status==="delivered"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":y.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:y.status.charAt(0).toUpperCase()+y.status.slice(1)})]})]},y.id))})]}),e.jsxs(T,{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Notes"}),e.jsx("textarea",{className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:4,placeholder:"Add notes about this customer..."})]})]})]})]})]})}const ta=[{name:"Alex Johnson",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop"},{name:"Sarah Williams",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop"},{name:"Mike Chen",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop"},{name:"Emma Davis",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop"},{name:"James Wilson",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop"}],sa=[{id:1,title:"Update product inventory",description:"Review and update stock levels for PS5 consoles",status:"todo",priority:"high",assignees:[{name:"Alex Johnson",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop"}],deadline:"2026-01-08"},{id:2,title:"Process refund requests",description:"Handle pending refund requests from last week",status:"todo",priority:"medium",assignees:[{name:"Sarah Williams",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop"}],deadline:"2026-01-06"},{id:3,title:"Create marketing campaign",description:"Design email campaign for new game releases",status:"inprogress",priority:"high",assignees:[{name:"Mike Chen",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop"}],deadline:"2026-01-10"},{id:4,title:"Customer support tickets",description:"Respond to high-priority support tickets",status:"inprogress",priority:"high",assignees:[{name:"Emma Davis",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop"}],deadline:"2026-01-05"},{id:5,title:"Monthly sales report",description:"Compile and analyze December sales data",status:"completed",priority:"medium",assignees:[{name:"James Wilson",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop"}],deadline:"2026-01-03"},{id:6,title:"Website maintenance",description:"Update product pages and fix broken links",status:"completed",priority:"low",assignees:[{name:"Alex Johnson",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop"}],deadline:"2026-01-02"}];function aa(){const[t,l]=r.useState(sa),[h,f]=r.useState(!1),[n,b]=r.useState("kanban"),[o,k]=r.useState({title:"",description:"",priority:"medium",status:"todo",assignees:[],deadline:""}),c=d=>{switch(d){case"high":return"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400";case"medium":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400";case"low":return"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400"}},g=d=>t.filter(x=>x.status===d&&x.assignees.length>0),i=()=>{if(!o.title||!o.deadline||!o.assignees||o.assignees.length===0)return;const d={id:t.length+1,title:o.title||"",description:o.description||"",status:"todo",priority:o.priority||"medium",assignees:o.assignees,deadline:o.deadline};l([...t,d]),f(!1),k({title:"",description:"",priority:"medium",status:"todo",assignees:[],deadline:""})},u=d=>{const x=o.assignees||[],a=x.find(m=>m.name===d.name);k(a?{...o,assignees:x.filter(m=>m.name!==d.name)}:{...o,assignees:[...x,d]})},s=({task:d})=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:d.title}),e.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium flex items-center gap-1 ${c(d.priority)}`,children:[e.jsx(is,{className:"w-3 h-3"}),d.priority]})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:d.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center -space-x-2",children:d.assignees.map((x,a)=>e.jsx("img",{src:x.avatar,alt:x.name,className:"w-6 h-6 rounded-full border-2 border-white dark:border-gray-800",title:x.name},a))}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(ns,{className:"w-3 h-3"}),new Date(d.deadline).toLocaleDateString()]})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Tasks"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage team tasks and assignments"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[e.jsx("button",{onClick:()=>b("kanban"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${n==="kanban"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400"}`,children:"Kanban"}),e.jsx("button",{onClick:()=>b("list"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${n==="list"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400"}`,children:"List"})]}),e.jsx(R,{onClick:()=>f(!0),icon:me,children:"Create Task"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Tasks"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:t.filter(d=>d.assignees&&d.assignees.length>0).length})]}),e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"To Do"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:g("todo").length})]}),e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1",children:g("inprogress").length})]}),e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:g("completed").length})]})]}),n==="kanban"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),"To Do",e.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",g("todo").length,")"]})]})}),e.jsx("div",{className:"space-y-3",children:g("todo").map(d=>e.jsx(s,{task:d},d.id))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),"In Progress",e.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",g("inprogress").length,")"]})]})}),e.jsx("div",{className:"space-y-3",children:g("inprogress").map(d=>e.jsx(s,{task:d},d.id))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),"Completed",e.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",g("completed").length,")"]})]})}),e.jsx("div",{className:"space-y-3",children:g("completed").map(d=>e.jsx(s,{task:d},d.id))})]})]}),n==="list"&&e.jsx(T,{className:"p-8",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Task"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Assignees"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Priority"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Deadline"})]})}),e.jsx("tbody",{children:t.filter(d=>d.assignees&&d.assignees.length>0).map(d=>e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:d.title}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:d.description})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:"flex items-center -space-x-2",children:d.assignees.map((x,a)=>e.jsx("img",{src:x.avatar,alt:x.name,className:"w-8 h-8 rounded-full border-2 border-white dark:border-gray-800",title:x.name},a))})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(d.priority)}`,children:d.priority})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d.status==="completed"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":d.status==="inprogress"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"}`,children:d.status==="inprogress"?"In Progress":d.status==="todo"?"To Do":"Completed"})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:d.deadline})]},d.id))})]})})}),e.jsx(pe,{isOpen:h,onClose:()=>f(!1),title:"Create New Task",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Task Title"}),e.jsx("input",{type:"text",value:o.title,onChange:d=>k({...o,title:d.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter task title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:o.description,onChange:d=>k({...o,description:d.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3,placeholder:"Task description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),e.jsxs("select",{value:o.priority,onChange:d=>k({...o,priority:d.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Deadline"}),e.jsx("input",{type:"date",value:o.deadline,onChange:d=>k({...o,deadline:d.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assign To"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ta.map(d=>{const x=o.assignees?.some(a=>a.name===d.name);return e.jsxs("button",{onClick:()=>u(d),className:`flex items-center gap-2 px-3 py-1.5 rounded-full border transition-colors ${x?"bg-blue-100 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:[e.jsx("img",{src:d.avatar,alt:d.name,className:"w-5 h-5 rounded-full"}),e.jsx("span",{className:"text-sm",children:d.name})]},d.name)})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(R,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),e.jsx(R,{onClick:i,children:"Create Task"})]})]})})]})}function ra(){const[t,l]=r.useState([]),[h,f]=r.useState(!0),[n,b]=r.useState(!1),[o,k]=r.useState(null),[c,g]=r.useState(["admin","manager","staff"]),[i,u]=r.useState({name:"",email:"",password:"",role:"staff",job_title:"",phone:"",avatar:"",identity_document:""}),[s,d]=r.useState(null),[x,a]=r.useState(null);r.useEffect(()=>{m(),y()},[]);const m=async()=>{try{const w=await fetch(`${M}/admin/users`,{headers:{Authorization:`Bearer ${G}`}});if(w.ok){const B=await w.json();l(B)}}catch(w){console.error("Error fetching users:",w)}finally{f(!1)}},y=async()=>{try{const w=await Ue.getAll(),P=(Array.isArray(w)?w:Array.isArray(w?.roles)?w.roles:[]).map(L=>typeof L=="string"?L:L?.name).filter(L=>typeof L=="string"&&L.length>0),J=P.length>0?P:["admin","manager","staff"];g(J),u(L=>J.includes(L.role)?L:{...L,role:J[0]})}catch(w){console.error("Error fetching roles:",w)}},A=async w=>{const B=new FormData;B.append("image",w);const P=await fetch(`${M}/upload`,{method:"POST",body:B});if(!P.ok)throw new Error("Upload failed");return(await P.json()).url},S=async w=>{w.preventDefault();try{let B=i.avatar,P=i.identity_document;s&&(B=await A(s)),x&&(P=await A(x));const J={...i,avatar:B,identity_document:P},L=o?`${M}/admin/users/${o.id}`:`${M}/admin/users`,ee=await fetch(L,{method:o?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify(J)});if(ee.ok)b(!1),m(),p();else{const ne=await ee.json();alert(ne.error||"Operation failed")}}catch(B){console.error("Error saving user:",B),alert("Failed to save user")}},v=async w=>{if(confirm("Are you sure you want to delete this user?"))try{(await fetch(`${M}/admin/users/${w}`,{method:"DELETE",headers:{Authorization:`Bearer ${G}`}})).ok&&m()}catch(B){console.error("Error deleting user:",B)}},C=()=>{k(null),p(),b(!0)},O=w=>{k(w),u({name:w.name,email:w.email,password:"",role:w.role,job_title:w.job_title||"",phone:w.phone||"",avatar:w.avatar||"",identity_document:w.identity_document||""}),d(null),a(null),b(!0)},p=()=>{u({name:"",email:"",password:"",role:"staff",job_title:"",phone:"",avatar:"",identity_document:""}),d(null),a(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Employees"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your team members and roles"})]}),e.jsxs(R,{onClick:C,className:"bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-500/30",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Add Employee"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(w=>e.jsxs(T,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden",children:w.avatar?e.jsx("img",{src:w.avatar,alt:w.name,className:"w-full h-full object-cover"}):e.jsx(se,{className:"w-full h-full p-2 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:w.name}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:w.job_title||w.role})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>O(w),className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v(w.id),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(re,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4"}),w.email]}),w.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"w-4 h-4"}),w.phone]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-4 h-4"}),e.jsxs("span",{className:"capitalize",children:[w.role," Access"]})]}),w.identity_document&&e.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[e.jsx(et,{className:"w-4 h-4"}),e.jsx("a",{href:w.identity_document,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"View ID Document"})]})]})]},w.id))}),e.jsx(pe,{isOpen:n,onClose:()=>b(!1),title:o?"Edit Employee":"Add New Employee",children:e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",required:!0,value:i.name,onChange:w=>u({...i,name:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",required:!0,value:i.email,onChange:w=>u({...i,email:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o?"New Password (leave blank to keep current)":"Password"}),e.jsx("input",{type:"password",required:!o,value:i.password,onChange:w=>u({...i,password:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:o?"Enter to reset password":""})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role (Access)"}),e.jsx("select",{value:i.role,onChange:w=>u({...i,role:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:(i.role&&!c.includes(i.role)?[i.role,...c]:c).map(w=>e.jsx("option",{value:w,children:w.replace(/_/g," ").replace(/\b\w/g,B=>B.toUpperCase())},w))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Job Title"}),e.jsx("input",{type:"text",value:i.job_title,onChange:w=>u({...i,job_title:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g. Sales Manager"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:i.phone,onChange:w=>u({...i,phone:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Avatar"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:w=>d(w.target.files?.[0]||null),className:"hidden",id:"avatar-upload"}),e.jsxs("label",{htmlFor:"avatar-upload",className:"cursor-pointer flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-sm",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Choose File"]}),(s||i.avatar)&&e.jsx("span",{className:"text-xs text-green-500",children:"Selected"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"National ID / Passport"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:w=>a(w.target.files?.[0]||null),className:"hidden",id:"id-upload"}),e.jsxs("label",{htmlFor:"id-upload",className:"cursor-pointer flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-sm",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Upload ID"]}),(x||i.identity_document)&&e.jsx("span",{className:"text-xs text-green-500",children:"Selected"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(R,{type:"submit",className:"flex-1",children:"Save Employee"}),e.jsx(R,{type:"button",variant:"secondary",onClick:()=>b(!1),className:"flex-1",children:"Cancel"})]})]})})]})}function la(){const{settings:t,updateSettings:l}=de(),[h,f]=r.useState("store"),[n,b]=r.useState({currency_code:"USD",currency_symbol:"$",tax_rate:8.5,website_title:"",website_description:"",website_favicon:"",store_name:"",store_email:"",store_phone:"",store_address:"",business_hours:[],payment_methods:[]}),[o,k]=r.useState(null);r.useEffect(()=>{if(t){const x=[{name:"Credit/Debit Cards",enabled:!0},{name:"PayPal",enabled:!0},{name:"Apple Pay",enabled:!0},{name:"Google Pay",enabled:!1},{name:"Cryptocurrency",enabled:!1}],a=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(m=>({day:m,open:"09:00",close:"18:00"}));b({currency_code:t.currency_code,currency_symbol:t.currency_symbol,tax_rate:t.tax_rate,website_title:t.website_title||"",website_description:t.website_description||"",website_favicon:t.website_favicon||"",store_name:t.store_name||"",store_email:t.store_email||"",store_phone:t.store_phone||"",store_address:t.store_address||"",business_hours:t.business_hours&&t.business_hours.length>0?t.business_hours:a,payment_methods:t.payment_methods&&t.payment_methods.length>0?t.payment_methods:x})}},[t]);const c=async()=>{try{await l(n),alert("Settings saved successfully!")}catch{alert("Failed to save settings")}},g=x=>{const a=x.target.value;let m="$";switch(a){case"USD":m="$";break;case"EUR":m="€";break;case"GBP":m="£";break;case"JPY":m="¥";break;case"EGP":m="E£";break;default:m="$"}b({...n,currency_code:a,currency_symbol:m})},i=x=>{b(a=>({...a,payment_methods:a.payment_methods.map(m=>m.name===x?{...m,enabled:!m.enabled}:m)}))},u=(x,a,m)=>{b(y=>({...y,business_hours:y.business_hours.map(A=>A.day===x?{...A,[a]:m}:A)}))},s=async()=>{if(!o)return;const x=new FormData;x.append("image",o);try{const a=await fetch(`${M}/upload`,{method:"POST",body:x});if(!a.ok)throw new Error("Upload failed");const m=await a.json();b(y=>({...y,website_favicon:m.url})),k(null)}catch(a){console.error("Error uploading favicon:",a),alert("Failed to upload favicon")}},d=[{id:"store",label:"Store Info"},{id:"payments",label:"Payments"},{id:"shipping",label:"Shipping"},{id:"notifications",label:"Notifications"},{id:"security",label:"Security"},{id:"integrations",label:"Integrations"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Settings"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your store settings and preferences"})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"flex gap-4 overflow-x-auto",children:d.map(x=>e.jsx("button",{onClick:()=>f(x.id),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${h===x.id?"border-red-600 text-red-600 dark:text-red-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:x.label},x.id))})}),h==="store"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(T,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Store Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Store Name"}),e.jsx("input",{type:"text",value:n.store_name,onChange:x=>b({...n,store_name:x.target.value}),placeholder:"PlayStation Store Admin",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Store Email"}),e.jsx("input",{type:"email",value:n.store_email,onChange:x=>b({...n,store_email:x.target.value}),placeholder:"store@playstation.com",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Store Phone"}),e.jsx("input",{type:"tel",value:n.store_phone,onChange:x=>b({...n,store_phone:x.target.value}),placeholder:"+1 (555) 123-4567",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Store Address"}),e.jsx("textarea",{value:n.store_address,onChange:x=>b({...n,store_address:x.target.value}),placeholder:"2207 Bridgepointe Parkway, San Mateo, CA 94404",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website Title"}),e.jsx("input",{type:"text",value:n.website_title,onChange:x=>b({...n,website_title:x.target.value}),placeholder:"Games Up",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website Description"}),e.jsx("textarea",{value:n.website_description,onChange:x=>b({...n,website_description:x.target.value}),placeholder:"Your ultimate destination for gaming products and digital goods.",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Favicon URL"}),e.jsx("input",{type:"text",value:n.website_favicon,onChange:x=>b({...n,website_favicon:x.target.value}),placeholder:"https://example.com/favicon.png",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[e.jsx("input",{type:"file",accept:"image/png",onChange:x=>k(x.target.files?.[0]||null),className:"hidden",id:"favicon-upload"}),e.jsx("label",{htmlFor:"favicon-upload",className:"cursor-pointer flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-sm",children:"Choose PNG"}),e.jsx(R,{type:"button",onClick:s,className:"bg-red-600 hover:bg-red-700 text-white",children:"Upload Icon"}),(o||n.website_favicon)&&e.jsx("span",{className:"text-xs text-green-500",children:"Selected"})]})]})]})]}),e.jsxs(T,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Business Hours"}),e.jsx("div",{className:"space-y-3",children:n.business_hours.map(x=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-24 text-sm text-gray-700 dark:text-gray-300",children:x.day}),e.jsx("input",{type:"time",value:x.open,onChange:a=>u(x.day,"open",a.target.value),className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"to"}),e.jsx("input",{type:"time",value:x.close,onChange:a=>u(x.day,"close",a.target.value),className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]},x.day))})]})]}),h==="payments"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(T,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),e.jsx("div",{className:"space-y-3",children:n.payment_methods.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:x.name}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.enabled,onChange:()=>i(x.name),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 dark:peer-focus:ring-red-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-red-600"})]})]},x.name))})]}),e.jsxs(T,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Currency Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Default Currency"}),e.jsxs("select",{value:n.currency_code,onChange:g,className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"USD",children:"USD - US Dollar"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"}),e.jsx("option",{value:"GBP",children:"GBP - British Pound"}),e.jsx("option",{value:"JPY",children:"JPY - Japanese Yen"}),e.jsx("option",{value:"EGP",children:"EGP - Egyptian Pound"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tax Rate (%)"}),e.jsx("input",{type:"number",value:n.tax_rate,onChange:x=>b({...n,tax_rate:parseFloat(x.target.value)}),step:"0.1",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),h==="shipping"&&e.jsxs(T,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Shipping Options"}),e.jsx("div",{className:"space-y-4",children:[{name:"Standard Shipping",price:"$5.99",time:"5-7 business days"},{name:"Express Shipping",price:"$12.99",time:"2-3 business days"},{name:"Next Day Delivery",price:"$24.99",time:"1 business day"}].map(x=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:x.name}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{children:x.price}),e.jsx("span",{children:"•"}),e.jsx("span",{children:x.time})]})]},x.name))})]}),h==="notifications"&&e.jsxs(T,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-4",children:[{title:"New Orders",description:"Get notified when new orders are placed"},{title:"Low Stock Alerts",description:"Receive alerts when products are running low"},{title:"Customer Messages",description:"Get notified of new customer support messages"},{title:"Sales Reports",description:"Receive daily sales summary reports"},{title:"System Updates",description:"Get notified about system updates and maintenance"}].map(x=>e.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:x.title}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:x.description})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer ml-4",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},x.title))})]}),h==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(T,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Change Password"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs(T,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Add an extra layer of security to your account"}),e.jsx(R,{children:"Enable 2FA"})]}),e.jsxs(T,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Active Sessions"}),e.jsx("div",{className:"space-y-3",children:e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"MacBook Pro - Chrome"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"San Francisco, CA • Active now"})]}),e.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded-full",children:"Current"})]})})})]})]}),h==="integrations"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{name:"Stripe",description:"Payment processing",connected:!0,logo:"💳"},{name:"Mailchimp",description:"Email marketing",connected:!0,logo:"📧"},{name:"Slack",description:"Team communication",connected:!1,logo:"💬"},{name:"Google Analytics",description:"Website analytics",connected:!0,logo:"📊"},{name:"Shopify",description:"E-commerce platform",connected:!1,logo:"🛍️"},{name:"Zendesk",description:"Customer support",connected:!1,logo:"🎧"}].map(x=>e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-2xl",children:x.logo}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:x.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:x.description}),x.connected?e.jsx(R,{variant:"secondary",children:"Disconnect"}):e.jsx(R,{children:"Connect"})]})]})},x.name))}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(R,{onClick:c,className:"bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(He,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})}const Me=["dashboard","products","orders","pos","analytics","customers","banners","outlook","hr","tasks","team","roles","system","delivery","settings"],Ye={dashboard:"Dashboard",products:"Products",orders:"Orders",pos:"Point of Sale",analytics:"Analytics",customers:"Customers",banners:"Banners",outlook:"Outlook Accounts",hr:"HR & Attendance",tasks:"Tasks",team:"Team Members",roles:"Roles & Access",system:"System",delivery:"Delivery Options",settings:"Settings"};function da(){const[t,l]=r.useState([]),[h,f]=r.useState(!0),[n,b]=r.useState(!1),[o,k]=r.useState({name:"",description:"",permissions:Me.reduce((a,m)=>({...a,[m]:!1}),{})}),[c,g]=r.useState(!1),[i,u]=r.useState({name:"",email:"",password:"",role:""});r.useEffect(()=>{s()},[]);const s=async()=>{try{f(!0);const a=await Ue.getAll();l(Array.isArray(a)?a:[])}catch(a){console.error("Error loading roles:",a)}finally{f(!1)}},d=async()=>{try{await Ue.create(o),await s(),b(!1),k({name:"",description:"",permissions:Me.reduce((a,m)=>({...a,[m]:!1}),{})})}catch(a){console.error("Error creating role:",a),alert("Failed to create role")}},x=async()=>{try{await Ue.createAdminUser(i),alert("User created successfully"),g(!1),u({name:"",email:"",password:"",role:""})}catch(a){console.error("Error creating user:",a),alert("Failed to create user. Email might be taken.")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Roles & Access"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage user roles and permissions"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(R,{onClick:()=>g(!0),variant:"outline",className:"flex items-center gap-2",children:[e.jsx(tt,{className:"w-4 h-4"}),"Create User Account"]}),e.jsxs(R,{onClick:()=>b(!0),className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(ze,{className:"w-4 h-4"}),"Create New Role"]})]})]}),h?e.jsx("div",{className:"text-center py-12",children:"Loading roles..."}):e.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.map(a=>e.jsxs(T,{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[a.name,a.name==="admin"&&e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-red-100 text-red-600 text-xs font-medium",children:"System"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:a.description})]})}),e.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-700 pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Permissions (Sidebar Access)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:Me.map(m=>{const y=a.permissions&&a.permissions[m];return e.jsxs("div",{className:`flex items-center gap-2 text-sm p-2 rounded-lg ${y?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"bg-gray-50 dark:bg-gray-800/50 text-gray-400 dark:text-gray-500"}`,children:[y?e.jsx($t,{className:"w-4 h-4 flex-shrink-0"}):e.jsx(Z,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",title:Ye[m],children:Ye[m]})]},m)})})]})]},a.id))}),e.jsx(pe,{isOpen:n,onClose:()=>b(!1),title:"Create New Role",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role Name"}),e.jsx("input",{type:"text",value:o.name,onChange:a=>k({...o,name:a.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-red-500",placeholder:"e.g. Sales Associate"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:o.description,onChange:a=>k({...o,description:a.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-red-500",placeholder:"Brief description of the role"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Permissions"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-60 overflow-y-auto p-2 border border-gray-200 rounded-lg",children:Me.map(a=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-1 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:o.permissions[a],onChange:m=>k({...o,permissions:{...o.permissions,[a]:m.target.checked}}),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:Ye[a]})]},a))})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(R,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),e.jsx(R,{onClick:d,className:"bg-red-600 text-white hover:bg-red-700",children:"Create Role"})]})]})}),e.jsx(pe,{isOpen:c,onClose:()=>g(!1),title:"Create User Account",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",value:i.name,onChange:a=>u({...i,name:a.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",value:i.email,onChange:a=>u({...i,email:a.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),e.jsx("input",{type:"password",value:i.password,onChange:a=>u({...i,password:a.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Assign Role"}),e.jsxs("select",{value:i.role,onChange:a=>u({...i,role:a.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"",children:"Select a role"}),t.map(a=>e.jsx("option",{value:a.name,children:a.name},a.id))]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(R,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),e.jsx(R,{onClick:x,className:"bg-red-600 text-white hover:bg-red-700",children:"Create Account"})]})]})})]})}const ia=[{id:1,email:"gaming.store01@outlook.com",password:"SecurePass123!",recoveryEmail:"backup01@gmail.com",status:"Active",createdDate:"Jan 1, 2026",lastLogin:"Jan 4, 2026",productName:"PlayStation 5 Console"},{id:2,email:"gaming.store02@outlook.com",password:"SecurePass456!",recoveryEmail:"backup02@gmail.com",status:"Active",createdDate:"Jan 2, 2026",lastLogin:"Jan 3, 2026",productName:"DualSense Controller"},{id:3,email:"gaming.store03@outlook.com",password:"SecurePass789!",status:"Inactive",createdDate:"Dec 28, 2025",productName:"PS5 VR Headset"}];function na(){const[t,l]=r.useState(ia),[h,f]=r.useState(!1),[n,b]=r.useState(!1),[o,k]=r.useState(null),[c,g]=r.useState(""),[i,u]=r.useState({}),[s,d]=r.useState({email:"",password:"",recoveryEmail:"",status:"Active",productName:""}),x=()=>{const C={...s,createdDate:o?o.createdDate:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};l(o?t.map(O=>O.id===o.id?{...C,id:o.id}:O):[...t,{...C,id:Date.now()}]),b(!1),k(null),d({email:"",password:"",recoveryEmail:"",status:"Active",productName:""})},a=C=>{confirm("Are you sure you want to delete this Outlook account?")&&l(t.filter(O=>O.id!==C))},m=C=>{k(C),d({email:C.email,password:C.password,recoveryEmail:C.recoveryEmail||"",status:C.status,productName:C.productName||""}),b(!0)},y=(C,O)=>{navigator.clipboard.writeText(C),alert(`${O} copied to clipboard!`)},A=C=>{u(O=>({...O,[C]:!O[C]}))},S=t.filter(C=>C.email.toLowerCase().includes(c.toLowerCase())||C.productName&&C.productName.toLowerCase().includes(c.toLowerCase())),v=C=>{switch(C){case"Active":return"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400";case"Inactive":return"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400";case"Suspended":return"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400";default:return"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Outlook Accounts"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage product-linked Outlook accounts"})]}),e.jsx(R,{onClick:()=>{k(null),d({email:"",password:"",recoveryEmail:"",status:"Active",productName:""}),b(!0)},icon:me,children:"Add Account"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Accounts"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:t.length})]}),e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:t.filter(C=>C.status==="Active").length})]}),e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Inactive"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400 mt-1",children:t.filter(C=>C.status==="Inactive").length})]}),e.jsxs(T,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Suspended"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:t.filter(C=>C.status==="Suspended").length})]})]}),e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search accounts or products...",value:c,onChange:C=>g(C.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]})}),e.jsx(T,{className:"p-8",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Password"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Product"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Created"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),e.jsx("tbody",{children:S.map(C=>e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:C.email}),e.jsx("button",{onClick:()=>y(C.email,"Email"),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:e.jsx(st,{className:"w-3 h-3 text-gray-400"})})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-mono text-sm text-gray-900 dark:text-white",children:i[C.id]?C.password:"••••••••••"}),e.jsx("button",{onClick:()=>A(C.id),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:i[C.id]?e.jsx(gt,{className:"w-3 h-3 text-gray-400"}):e.jsx(we,{className:"w-3 h-3 text-gray-400"})}),e.jsx("button",{onClick:()=>y(C.password,"Password"),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:e.jsx(st,{className:"w-3 h-3 text-gray-400"})})]})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:C.productName||"-"}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(C.status)}`,children:C.status})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:C.createdDate}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>m(C),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(mt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>a(C.id),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(re,{className:"w-4 h-4"})})]})})]},C.id))})]})})}),e.jsx(pe,{isOpen:n,onClose:()=>{b(!1),k(null),d({email:"",password:"",recoveryEmail:"",status:"Active",productName:""})},title:o?"Edit Outlook Account":"Add New Outlook Account",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:s.email,onChange:C=>d({...s,email:C.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"account@outlook.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),e.jsx("input",{type:"text",value:s.password,onChange:C=>d({...s,password:C.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Recovery Email (Optional)"}),e.jsx("input",{type:"email",value:s.recoveryEmail,onChange:C=>d({...s,recoveryEmail:C.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"recovery@email.com"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs("select",{value:s.status,onChange:C=>d({...s,status:C.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"}),e.jsx("option",{value:"Suspended",children:"Suspended"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Linked Product"}),e.jsx("input",{type:"text",value:s.productName,onChange:C=>d({...s,productName:C.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Product name"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(R,{variant:"secondary",onClick:()=>{b(!1),k(null),d({email:"",password:"",recoveryEmail:"",status:"Active",productName:""})},children:"Cancel"}),e.jsx(R,{onClick:x,children:o?"Update Account":"Add Account"})]})]})})]})}function oa(){const[t,l]=r.useState([]),[h,f]=r.useState(!0),[n,b]=r.useState(null),[o,k]=r.useState(!1),[c,g]=r.useState(null),[i,u]=r.useState({title:"",imageUrl:"",link:"",position:1,isActive:!0,startDate:"",endDate:""}),[s,d]=r.useState({badge:"🎮 Your Ultimate Gaming Destination",title:"GAMES UP",subtitle:"Experience the next level of gaming with our premium collection of consoles, accessories, and titles.",ctaPrimary:"Shop Now",ctaSecondary:"Learn More"}),[x,a]=r.useState({title:"SPECIAL OFFER",subtitle:"Up to 50% Off on Selected Items"});r.useEffect(()=>{A();const p=localStorage.getItem("specialOfferConfig");p&&a(JSON.parse(p));const w=localStorage.getItem("heroConfig");w&&d(JSON.parse(w))},[]);const m=()=>{localStorage.setItem("heroConfig",JSON.stringify(s)),window.dispatchEvent(new Event("heroConfigUpdated")),window.dispatchEvent(new Event("storage")),alert("Hero section updated successfully!")},y=()=>{localStorage.setItem("specialOfferConfig",JSON.stringify(x)),window.dispatchEvent(new Event("specialOfferUpdated")),window.dispatchEvent(new Event("storage")),alert("Special Offer updated successfully!")};async function A(){try{f(!0);const p=await Pe.getAll();l(p.banners||[]),b(null)}catch(p){console.error("Error loading banners:",p),b(p.message||"Failed to load banners")}finally{f(!1)}}const S=async()=>{try{c?await Pe.update(c.id,i):await Pe.create(i),await A(),k(!1),g(null),u({title:"",imageUrl:"",link:"",position:1,isActive:!0,startDate:"",endDate:""})}catch(p){console.error("Error saving banner:",p),alert("Failed to save banner")}},v=async p=>{if(confirm("Are you sure you want to delete this banner?"))try{await Pe.delete(p),await A()}catch(w){console.error("Error deleting banner:",w),alert("Failed to delete banner")}},C=async p=>{try{await Pe.update(p.id,{...p,isActive:!p.isActive}),await A()}catch(w){console.error("Error toggling banner:",w),alert("Failed to update banner")}},O=p=>{g(p),u({title:p.title,imageUrl:p.imageUrl,link:p.link,position:p.position,isActive:p.isActive,startDate:p.startDate||"",endDate:p.endDate||""}),k(!0)};return h?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading banners..."})}):n?e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-4",children:[e.jsx("div",{className:"text-red-600 dark:text-red-400",children:n}),e.jsx(R,{onClick:A,children:"Try Again"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Website Banners"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage promotional banners for your website"})]}),e.jsx(R,{onClick:()=>{g(null),u({title:"",imageUrl:"",link:"",position:1,isActive:!0,startDate:"",endDate:""}),k(!0)},icon:me,children:"Add Banner"})]}),e.jsxs(T,{className:"p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Hero Section"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Badge Text"}),e.jsx("input",{type:"text",value:s.badge,onChange:p=>d({...s,badge:p.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"🎮 Your Ultimate Gaming Destination"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Main Title"}),e.jsx("input",{type:"text",value:s.title,onChange:p=>d({...s,title:p.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"GAMES UP"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subtitle"}),e.jsx("textarea",{value:s.subtitle,onChange:p=>d({...s,subtitle:p.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Description text...",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Primary Button Text"}),e.jsx("input",{type:"text",value:s.ctaPrimary,onChange:p=>d({...s,ctaPrimary:p.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Shop Now"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Secondary Button Text"}),e.jsx("input",{type:"text",value:s.ctaSecondary,onChange:p=>d({...s,ctaSecondary:p.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Learn More"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(R,{onClick:m,className:"bg-red-600 hover:bg-red-700 text-white",children:"Save Hero Section"})})]}),e.jsxs(T,{className:"p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Special Offer Section"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Section Title"}),e.jsx("input",{type:"text",value:x.title,onChange:p=>a({...x,title:p.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"SPECIAL OFFER"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Offer Text"}),e.jsx("input",{type:"text",value:x.subtitle,onChange:p=>a({...x,subtitle:p.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Up to 50% Off on Selected Items"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(R,{onClick:y,className:"bg-red-600 hover:bg-red-700 text-white",children:"Save Special Offer"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.map(p=>e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700",children:[e.jsx("img",{src:p.imageUrl,alt:p.title,className:"w-full h-48 object-cover",onError:w=>{w.target.src="https://images.unsplash.com/photo-1557821552-17105176677c?w=800&h=400&fit=crop"}}),e.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p.isActive?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:p.isActive?"Active":"Inactive"}),e.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400",children:["Position ",p.position]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:p.title}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:["Link: ",p.link||"No link"]}),(p.startDate||p.endDate)&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[p.startDate&&`From: ${new Date(p.startDate).toLocaleDateString()}`,p.endDate&&` | To: ${new Date(p.endDate).toLocaleDateString()}`]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>C(p),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[p.isActive?e.jsx(gt,{className:"w-4 h-4"}):e.jsx(we,{className:"w-4 h-4"}),p.isActive?"Deactivate":"Activate"]}),e.jsx("button",{onClick:()=>O(p),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:e.jsx(mt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v(p.id),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(re,{className:"w-4 h-4"})})]})]})},p.id)),t.length===0&&e.jsx("div",{className:"col-span-2 text-center py-12 text-gray-500 dark:text-gray-400",children:'No banners yet. Click "Add Banner" to create your first one.'})]}),e.jsx(pe,{isOpen:o,onClose:()=>{k(!1),g(null),u({title:"",imageUrl:"",link:"",position:1,isActive:!0,startDate:"",endDate:""})},title:c?"Edit Banner":"Add New Banner",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Banner Title"}),e.jsx("input",{type:"text",value:i.title,onChange:p=>u({...i,title:p.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Summer Sale 2024"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Image URL"}),e.jsx("input",{type:"text",value:i.imageUrl,onChange:p=>u({...i,imageUrl:p.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link URL (optional)"}),e.jsx("input",{type:"text",value:i.link,onChange:p=>u({...i,link:p.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Position"}),e.jsx("input",{type:"number",min:"1",value:i.position,onChange:p=>u({...i,position:parseInt(p.target.value)||1}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs("select",{value:i.isActive?"active":"inactive",onChange:p=>u({...i,isActive:p.target.value==="active"}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date (optional)"}),e.jsx("input",{type:"date",value:i.startDate,onChange:p=>u({...i,startDate:p.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Date (optional)"}),e.jsx("input",{type:"date",value:i.endDate,onChange:p=>u({...i,endDate:p.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(R,{variant:"secondary",onClick:()=>{k(!1),g(null),u({title:"",imageUrl:"",link:"",position:1,isActive:!0,startDate:"",endDate:""})},children:"Cancel"}),e.jsx(R,{onClick:S,children:c?"Update Banner":"Add Banner"})]})]})})]})}function ca(){const[t,l]=r.useState([]),[h,f]=r.useState([]),[n,b]=r.useState(!0),[o,k]=r.useState(null),[c,g]=r.useState(new Date().toISOString().split("T")[0]),[i,u]=r.useState("all"),[s,d]=r.useState("all");r.useEffect(()=>{x()},[c]);async function x(){try{b(!0);const[S,v]=await Promise.all([Fe.getAttendance(c),Fe.getEmployees()]);l(S.attendance||[]),f(v.employees||[]),k(null)}catch(S){console.error("Error loading HR data:",S),k(S.message||"Failed to load HR data")}finally{b(!1)}}const a=async(S,v,C)=>{try{const O=new Date,p=`${O.getHours().toString().padStart(2,"0")}:${O.getMinutes().toString().padStart(2,"0")}`;await Fe.markAttendance({employeeId:S,date:c,status:v,shift:C,checkIn:p,checkOut:""}),await x()}catch(O){console.error("Error marking attendance:",O),alert("Failed to mark attendance")}},m=async S=>{try{const v=new Date,C=`${v.getHours().toString().padStart(2,"0")}:${v.getMinutes().toString().padStart(2,"0")}`;await Fe.updateAttendance(S,{checkOut:C}),await x()}catch(v){console.error("Error checking out:",v),alert("Failed to check out")}},y=t.filter(S=>{const v=i==="all"||S.shift===i,C=s==="all"||S.status===s;return v&&C}),A={total:h.length,present:t.filter(S=>S.status==="present").length,absent:h.length-t.length,late:t.filter(S=>S.status==="late").length,morningShift:h.filter(S=>S.shift==="morning").length,nightShift:h.filter(S=>S.shift==="night").length};return n?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading HR data..."})}):o?e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-4",children:[e.jsx("div",{className:"text-red-600 dark:text-red-400",children:o}),e.jsx(R,{onClick:x,children:"Try Again"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"HR & Attendance"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Track employee attendance and shifts"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"date",value:c,onChange:S=>g(S.target.value),className:"px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500"}),e.jsx(R,{icon:he,children:"Export Report"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Employees"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:A.total})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:e.jsx(qe,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Present Today"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:A.present})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:e.jsx(qe,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Absent Today"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:A.absent})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:e.jsx(Nt,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})]})}),e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Late Arrivals"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1",children:A.late})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:e.jsx($e,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(T,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Morning Shift"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"7:00 AM - 3:00 PM"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[A.morningShift," employees"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${A.morningShift/A.total*100}%`}})})]})})]}),e.jsxs(T,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Night Shift"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"3:00 PM - 11:00 PM"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[A.nightShift," employees"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${A.nightShift/A.total*100}%`}})})]})})]})]}),e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filters:"})]}),e.jsxs("select",{value:i,onChange:S=>u(S.target.value),className:"px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"all",children:"All Shifts"}),e.jsx("option",{value:"morning",children:"Morning Shift"}),e.jsx("option",{value:"night",children:"Night Shift"})]}),e.jsxs("select",{value:s,onChange:S=>d(S.target.value),className:"px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"present",children:"Present"}),e.jsx("option",{value:"absent",children:"Absent"}),e.jsx("option",{value:"late",children:"Late"})]})]})}),e.jsx(T,{className:"p-8",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Employee"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Role"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Shift"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Check In"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Check Out"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Hours"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),e.jsx("tbody",{children:y.map(S=>e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:S.employeeName})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:h.find(v=>v.id===S.employeeId)?.role||"N/A"}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.shift==="morning"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400"}`,children:S.shift==="morning"?"Morning":"Night"})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:S.checkIn||"-"}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:S.checkOut||"-"}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:S.hoursWorked?`${S.hoursWorked}h`:"-"}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.status==="present"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":S.status==="late"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":S.status==="absent"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:S.status})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:"flex items-center justify-end gap-2",children:!S.checkOut&&e.jsx("button",{onClick:()=>m(S.id),className:"px-3 py-1 text-xs font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:"Check Out"})})})]},S.id))})]}),y.length===0&&e.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"No attendance records for selected filters."})]})}),e.jsxs(T,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Mark Attendance"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(S=>{const v=t.some(C=>C.employeeId===S.id);return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:S.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[S.role," • ",S.shift," shift"]})]}),!v&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>a(S.id,"present",S.shift),className:"p-2 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Mark Present",children:e.jsx(qe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>a(S.id,"absent",S.shift),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Mark Absent",children:e.jsx(Nt,{className:"w-4 h-4"})})]}),v&&e.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"✓ Marked"})]},S.id)})})]})]})}function xa(){const{settings:t,formatPrice:l}=de(),[h,f]=r.useState([]),[n,b]=r.useState([]),[o,k]=r.useState([]),[c,g]=r.useState(null),[i,u]=r.useState(""),[s,d]=r.useState(null),[x,a]=r.useState(!1),[m,y]=r.useState({name:"",email:"",phone:"",address:"",city:"",state:"",zipCode:""}),[A,S]=r.useState("grid"),[v,C]=r.useState(!1),[O,p]=r.useState(!1),[w,B]=r.useState(null);r.useEffect(()=>{P(),J()},[c]);const P=async()=>{try{const N=await fetch(`${M}/system/categories`,{headers:{Authorization:`Bearer ${G}`}});if(N.ok){const _=await N.json();b(_.filter(U=>U.isActive))}}catch(N){console.error("Error loading categories:",N)}},J=async()=>{try{const N=c?`${M}/public/products?category=${c}`:`${M}/public/products`,_=await fetch(N,{headers:{Authorization:`Bearer ${G}`}});if(_.ok){const U=await _.json();f(U.products||[])}}catch(N){console.error("Error loading products:",N)}},L=h.filter(N=>N.name.toLowerCase().includes(i.toLowerCase())||N.description?.toLowerCase().includes(i.toLowerCase())),ie=(N,_=1)=>{const U=o.find(q=>q.id===N.id);k(U?o.map(q=>q.id===N.id?{...q,quantity:q.quantity+_}:q):[...o,{...N,quantity:_}]),d(null)},ee=(N,_)=>{_<=0?ne(N):k(o.map(U=>U.id===N?{...U,quantity:_}:U))},ne=N=>{k(o.filter(_=>_.id!==N))},E=()=>{k([])},H=()=>{if(o.length===0){alert("Cart is empty!");return}a(!0)},K=async()=>{const N=document.getElementById("invoice-content");if(N)try{const _=await pt(N,{scale:2,logging:!1,useCORS:!0}),U=_.toDataURL("image/png"),q=new bt({orientation:"portrait",unit:"mm",format:"a4"}),V=210,Q=_.height*V/_.width;q.addImage(U,"PNG",0,0,V,Q),q.save(`invoice-${w?.invoiceNumber||Date.now()}.pdf`)}catch(_){console.error("Error generating PDF:",_),alert("Failed to generate PDF")}},te=()=>{window.print()},D=async()=>{if(!m.name||!m.email||!m.phone){alert("Please fill in all required customer information");return}C(!0);try{const N=o.reduce((Q,X)=>Q+X.price*X.quantity,0),_=N*(t.tax_rate/100),U=N+_,q={customerEmail:m.email,customerName:m.name,items:o,total:U,deliveryMethod:"In-Store Pickup",shippingAddress:m},V=await fetch(`${M}/customer-orders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify(q)});if(V.ok){const Q=await V.json(),X=(Q.purchasedItems||[]).map(Ce=>({...Ce,digitalItem:Ce.digital_key})),ge={invoiceNumber:Q.orderNumber||`INV-${Date.now()}`,date:new Date().toISOString(),customer:m,items:X.length>0?X:[...o],subtotal:N,tax:_,total:U};B(ge),p(!0),k([]),y({name:"",email:"",phone:"",address:"",city:"",state:"",zipCode:""}),a(!1)}}catch(N){console.error("Error completing checkout:",N),alert("Failed to complete checkout")}finally{C(!1)}},F=o.reduce((N,_)=>N+_.price*_.quantity,0),j=F*(t.tax_rate/100),I=F+j;return e.jsxs("div",{className:"h-screen flex bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Point of Sale"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>S("grid"),className:`p-2 rounded-lg ${A==="grid"?"bg-red-100 text-red-600":"text-gray-600 hover:bg-gray-100"}`,children:e.jsx(os,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>S("list"),className:`p-2 rounded-lg ${A==="list"?"bg-red-100 text-red-600":"text-gray-600 hover:bg-gray-100"}`,children:e.jsx(cs,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products...",value:i,onChange:N=>u(N.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"flex gap-2 overflow-x-auto",children:[e.jsx("button",{onClick:()=>g(null),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap ${c?"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300":"bg-red-600 text-white"}`,children:"All Products"}),n.map(N=>e.jsxs("button",{onClick:()=>g(N.slug),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap flex items-center gap-2 ${c===N.slug?"bg-red-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[e.jsx("span",{children:N.icon}),N.name]},N.id))]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[A==="grid"?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:L.map(N=>e.jsxs($.div,{whileHover:{y:-4},onClick:()=>d(N),className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden cursor-pointer border-2 border-transparent hover:border-red-500 transition-all",children:[e.jsxs("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700 relative overflow-hidden",children:[N.image?e.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Y,{className:"w-12 h-12 text-gray-400"})}),N.stock<=0&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:"Out of Stock"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm line-clamp-1",children:N.name}),e.jsx("p",{className:"text-lg font-bold text-red-600 mt-1",children:l(N.price)}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Stock: ",N.stock]})]})]},N.id))}):e.jsx("div",{className:"space-y-2",children:L.map(N=>e.jsxs($.div,{whileHover:{x:4},onClick:()=>d(N),className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 cursor-pointer border-2 border-transparent hover:border-red-500 transition-all flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden flex-shrink-0",children:N.image?e.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Y,{className:"w-6 h-6 text-gray-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:N.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-1",children:N.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xl font-bold text-red-600",children:l(N.price)}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Stock: ",N.stock]})]})]},N.id))}),L.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Y,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No products found"})]})]})]}),e.jsxs("div",{className:"w-96 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(ae,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Current Order"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.length," items"]})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ae,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cart is empty"})]}):o.map(N=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-3",children:[e.jsxs("div",{className:"flex gap-3 mb-2",children:[e.jsx("img",{src:N.image,alt:N.name,className:"w-12 h-12 rounded object-cover"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900 dark:text-white truncate",children:N.name}),e.jsx("p",{className:"text-sm font-bold text-red-600",children:l(N.price)})]}),e.jsx("button",{onClick:()=>ne(N.id),className:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 p-1 rounded",children:e.jsx(re,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>ee(N.id,N.quantity-1),className:"w-8 h-8 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded flex items-center justify-center",children:e.jsx(Ft,{className:"w-4 h-4"})}),e.jsx("span",{className:"w-12 text-center font-semibold text-gray-900 dark:text-white",children:N.quantity}),e.jsx("button",{onClick:()=>ee(N.id,N.quantity+1),className:"w-8 h-8 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded flex items-center justify-center",children:e.jsx(me,{className:"w-4 h-4"})}),e.jsx("span",{className:"ml-auto font-bold text-gray-900 dark:text-white",children:l(N.price*N.quantity)})]})]},N.id))}),o.length>0&&e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{className:"font-semibold",children:l(F)})]}),e.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:["Tax (",t.tax_rate,"%)"]}),e.jsx("span",{className:"font-semibold",children:l(j)})]}),e.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900 dark:text-white pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{className:"text-red-600",children:l(I)})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:E,className:"flex-1 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-semibold hover:bg-gray-50 dark:hover:bg-gray-700",children:"Clear"}),e.jsx("button",{onClick:H,className:"flex-1 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:"Checkout"})]})]})]}),e.jsx(ue,{children:s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Product Details"}),e.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:e.jsx(Z,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700 rounded-xl overflow-hidden",children:s.image?e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Y,{className:"w-24 h-24 text-gray-400"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:s.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:s.description}),e.jsx("p",{className:"text-3xl font-bold text-red-600 mb-4",children:l(s.price)}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Category"}),e.jsx("span",{className:"font-semibold",children:s.categorySlug||"N/A"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Stock"}),e.jsxs("span",{className:`font-semibold ${s.stock>0?"text-green-600":"text-red-600"}`,children:[s.stock," units"]})]}),s.attributes&&Object.entries(s.attributes).map(([N,_])=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:N}),e.jsx("span",{className:"font-semibold",children:String(_)})]},N))]}),e.jsxs("button",{onClick:()=>ie(s),disabled:s.stock<=0,className:"w-full py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5"}),"Add to Cart"]})]})]})]})})})}),e.jsx(ue,{children:O&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 print:hidden",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice Generated"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:K,className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Download PDF",children:e.jsx(he,{className:"w-5 h-5"})}),e.jsx("button",{onClick:te,className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Print Invoice",children:e.jsx(Tt,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:e.jsx(Z,{className:"w-6 h-6"})})]})]}),e.jsxs("div",{className:"space-y-6",id:"invoice-content",children:[e.jsxs("div",{className:"flex justify-between items-start border-b border-gray-200 dark:border-gray-700 pb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"GamesUp Store"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"123 Gaming Street"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Tech City, TC 90210"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"contact@gamesup.com"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["Invoice #",w.invoiceNumber]}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:new Date(w.date).toLocaleDateString()})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-8 border-b border-gray-200 dark:border-gray-700 pb-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Bill To:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:w.customer.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:w.customer.email}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:w.customer.phone})]})}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-2 text-sm font-semibold text-gray-900 dark:text-white",children:"Item"}),e.jsx("th",{className:"text-center py-2 text-sm font-semibold text-gray-900 dark:text-white",children:"Qty"}),e.jsx("th",{className:"text-right py-2 text-sm font-semibold text-gray-900 dark:text-white",children:"Price"}),e.jsx("th",{className:"text-right py-2 text-sm font-semibold text-gray-900 dark:text-white",children:"Total"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:w.items.map((N,_)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"py-3 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx("div",{className:"font-medium",children:N.name}),N.attributes&&Object.entries(N.attributes).length>0&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Object.entries(N.attributes).map(([U,q])=>e.jsxs("span",{className:"mr-2",children:[U,": ",String(q)]},U))}),N.digitalItem&&e.jsxs("div",{className:"mt-2 text-xs bg-gray-50 dark:bg-gray-700/50 p-2 rounded border border-gray-100 dark:border-gray-600",children:[N.digitalItem.email&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Email:"})," ",e.jsx("span",{className:"font-mono text-gray-600 dark:text-gray-400 select-all",children:N.digitalItem.email})]}),N.digitalItem.password&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Password:"})," ",e.jsx("span",{className:"font-mono text-gray-600 dark:text-gray-400 select-all",children:N.digitalItem.password})]}),N.digitalItem.code&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Code:"})," ",e.jsx("span",{className:"font-mono text-gray-600 dark:text-gray-400 select-all",children:N.digitalItem.code})]})]})]}),e.jsx("td",{className:"py-3 text-center text-sm text-gray-600 dark:text-gray-300",children:N.quantity||1}),e.jsx("td",{className:"py-3 text-right text-sm text-gray-600 dark:text-gray-300",children:l(N.price)}),e.jsx("td",{className:"py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:l(N.price*(N.quantity||1))})]},_))})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:l(w.subtotal)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",t.tax_rate,"%):"]}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:l(w.tax)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 dark:border-gray-700 pt-2",children:[e.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total:"}),e.jsx("span",{className:"text-red-600",children:l(w.total)})]})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700 text-center text-sm text-gray-500 dark:text-gray-400 print:hidden",children:e.jsx("p",{children:"Thank you for your business!"})})]})})})}),e.jsx("div",{className:"hidden print:block print:fixed print:inset-0 print:bg-white print:z-[100] p-8",children:w&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start border-b border-gray-200 pb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"GamesUp Store"}),e.jsx("p",{className:"text-gray-500",children:"123 Gaming Street"}),e.jsx("p",{className:"text-gray-500",children:"Tech City, TC 90210"}),e.jsx("p",{className:"text-gray-500",children:"contact@gamesup.com"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["Invoice #",w.invoiceNumber]}),e.jsx("p",{className:"text-gray-500",children:new Date(w.date).toLocaleDateString()})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-8 border-b border-gray-200 pb-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Bill To:"}),e.jsx("p",{className:"text-gray-600",children:w.customer.name}),e.jsx("p",{className:"text-gray-600",children:w.customer.email}),e.jsx("p",{className:"text-gray-600",children:w.customer.phone})]})}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-2 text-sm font-semibold text-gray-900",children:"Item"}),e.jsx("th",{className:"text-center py-2 text-sm font-semibold text-gray-900",children:"Qty"}),e.jsx("th",{className:"text-right py-2 text-sm font-semibold text-gray-900",children:"Price"}),e.jsx("th",{className:"text-right py-2 text-sm font-semibold text-gray-900",children:"Total"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:w.items.map((N,_)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"py-3 text-sm text-gray-600",children:[e.jsx("div",{className:"font-medium",children:N.name}),N.digitalItem&&e.jsxs("div",{className:"mt-1 text-xs border border-gray-200 p-1 rounded",children:[N.digitalItem.email&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Email:"})," ",N.digitalItem.email]}),N.digitalItem.password&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Password:"})," ",N.digitalItem.password]}),N.digitalItem.code&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Code:"})," ",N.digitalItem.code]})]})]}),e.jsx("td",{className:"py-3 text-center text-sm text-gray-600",children:N.quantity||1}),e.jsx("td",{className:"py-3 text-right text-sm text-gray-600",children:l(N.price)}),e.jsx("td",{className:"py-3 text-right text-sm font-medium text-gray-900",children:l(N.price*(N.quantity||1))})]},_))})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),e.jsx("span",{className:"font-medium text-gray-900",children:l(w.subtotal)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Tax (",t.tax_rate,"%):"]}),e.jsx("span",{className:"font-medium text-gray-900",children:l(w.tax)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 pt-2",children:[e.jsx("span",{className:"text-gray-900",children:"Total:"}),e.jsx("span",{className:"text-gray-900",children:l(w.total)})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:e.jsx("p",{children:"Thank you for your business!"})})]})}),e.jsx(ue,{children:x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Customer Information"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Enter customer details to complete the order"})]}),e.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-gray-500 dark:text-gray-400",children:e.jsx(Z,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(se,{className:"w-4 h-4 inline mr-2"}),"Full Name *"]}),e.jsx("input",{type:"text",value:m.name,onChange:N=>y({...m,name:N.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"John Doe",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(ye,{className:"w-4 h-4 inline mr-2"}),"Email *"]}),e.jsx("input",{type:"email",value:m.email,onChange:N=>y({...m,email:N.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"john@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(_e,{className:"w-4 h-4 inline mr-2"}),"Phone Number *"]}),e.jsx("input",{type:"tel",value:m.phone,onChange:N=>y({...m,phone:N.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"+1 (555) 000-0000",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Se,{className:"w-4 h-4 inline mr-2"}),"Address"]}),e.jsx("input",{type:"text",value:m.address,onChange:N=>y({...m,address:N.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"123 Main St"})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-xl",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:"Order Summary"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Items"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:o.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:["$",F.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tax"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:["$",j.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total"}),e.jsxs("span",{className:"text-red-600",children:["$",I.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"flex gap-4 mt-6",children:[e.jsx("button",{onClick:()=>a(!1),className:"flex-1 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-semibold hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{onClick:D,disabled:v,className:"flex-1 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"w-5 h-5"}),"Complete Order"]})})]})]})})})})]})}function ma({message:t,type:l="success",show:h}){if(!h)return null;const f={success:"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200",error:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200",info:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200"},b={success:Ee,error:ms,info:xs}[l];return e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg ${f[l]} animate-slide-in`,children:[e.jsx(b,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:t})]})}function ga(){const[t,l]=r.useState("categories"),[h,f]=r.useState([]),[n,b]=r.useState([]),[o,k]=r.useState([]),[c,g]=r.useState(!1),[i,u]=r.useState(null),[s,d]=r.useState(!1),[x,a]=r.useState(null);r.useEffect(()=>{m()},[t]);const m=async()=>{g(!0);try{const J=await fetch(`${M}/system/${t==="categories"?"categories":t==="subcategories"?"subcategories":"attributes"}`,{headers:{Authorization:`Bearer ${G}`}});if(!J.ok)throw new Error(`Failed to load ${t}`);const L=await J.json();t==="categories"?f(L):t==="subcategories"?b(L):k(L)}catch(P){console.error("Error loading data:",P),a({message:`Failed to load ${t}`,type:"error"})}finally{g(!1)}},y=async()=>{try{const P=t==="categories"?"categories":t==="subcategories"?"subcategories":"attributes",J=i?.id?"PUT":"POST",L=i?.id?`${M}/system/${P}/${i.id}`:`${M}/system/${P}`;if(!(await fetch(L,{method:J,headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"},body:JSON.stringify(i)})).ok)throw new Error("Failed to save");a({message:`${t} saved successfully!`,type:"success"}),d(!1),u(null),m()}catch(P){console.error("Error saving:",P),a({message:"Failed to save",type:"error"})}},A=async P=>{if(confirm("Are you sure you want to delete this item?"))try{if(!(await fetch(`${M}/system/${t==="categories"?"categories":t==="subcategories"?"subcategories":"attributes"}/${P}`,{method:"DELETE",headers:{Authorization:`Bearer ${G}`}})).ok)throw new Error("Failed to delete");a({message:"Deleted successfully!",type:"success"}),m()}catch(J){console.error("Error deleting:",J),a({message:"Failed to delete",type:"error"})}},S=async()=>{if(confirm("This will create demo categories, subcategories, and attributes. Continue?")){g(!0);try{const P=[{name:"Consoles",slug:"consoles",icon:"🎮",description:"Gaming consoles and hardware",displayOrder:1,isActive:!0},{name:"Games",slug:"games",icon:"🎯",description:"Video games for all platforms",displayOrder:2,isActive:!0},{name:"Accessories",slug:"accessories",icon:"🎧",description:"Gaming accessories and peripherals",displayOrder:3,isActive:!0},{name:"Digital",slug:"digital",icon:"💳",description:"Digital codes and subscriptions",displayOrder:4,isActive:!0}];for(const J of P)await fetch(`${M}/system/categories`,{method:"POST",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"},body:JSON.stringify(J)});a({message:"Demo data initialized successfully!",type:"success"}),m()}catch(P){console.error("Error initializing demo data:",P),a({message:"Failed to initialize demo data",type:"error"})}finally{g(!1)}}},v=()=>{u(t==="categories"?{name:"",description:"",slug:"",icon:"",displayOrder:0,isActive:!0}:t==="subcategories"?{categoryId:h[0]?.id||"",name:"",description:"",slug:"",displayOrder:0,isActive:!0}:{name:"",type:"text",options:[],isRequired:!1,displayOrder:0,isActive:!0}),d(!0)},C=P=>{u({...P}),d(!0)},O=()=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Slug"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Icon"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Order"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Status"}),e.jsx("th",{className:"text-right p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),e.jsx("tbody",{children:h.map(P=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[e.jsx("td",{className:"p-4 text-sm text-gray-900 dark:text-white font-medium",children:P.name}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:P.slug}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:P.icon}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:P.displayOrder}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P.isActive?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:P.isActive?"Active":"Inactive"})}),e.jsxs("td",{className:"p-4 text-right",children:[e.jsx("button",{onClick:()=>C(P),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg mr-2",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A(P.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:e.jsx(re,{className:"w-4 h-4"})})]})]},P.id))})]})}),p=()=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Category"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Slug"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Order"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Status"}),e.jsx("th",{className:"text-right p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),e.jsx("tbody",{children:n.map(P=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[e.jsx("td",{className:"p-4 text-sm text-gray-900 dark:text-white font-medium",children:P.name}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:h.find(J=>J.id===P.categoryId)?.name||"Unknown"}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:P.slug}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:P.displayOrder}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P.isActive?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:P.isActive?"Active":"Inactive"})}),e.jsxs("td",{className:"p-4 text-right",children:[e.jsx("button",{onClick:()=>C(P),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg mr-2",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A(P.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:e.jsx(re,{className:"w-4 h-4"})})]})]},P.id))})]})}),w=()=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Type"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Required"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Order"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Status"}),e.jsx("th",{className:"text-right p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),e.jsx("tbody",{children:o.map(P=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[e.jsx("td",{className:"p-4 text-sm text-gray-900 dark:text-white font-medium",children:P.name}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400 capitalize",children:P.type}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P.isRequired?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:P.isRequired?"Required":"Optional"})}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:P.displayOrder}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P.isActive?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:P.isActive?"Active":"Inactive"})}),e.jsxs("td",{className:"p-4 text-right",children:[e.jsx("button",{onClick:()=>C(P),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg mr-2",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A(P.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:e.jsx(re,{className:"w-4 h-4"})})]})]},P.id))})]})}),B=()=>i?e.jsx(pe,{isOpen:s,onClose:()=>d(!1),title:`${i.id?"Edit":"Add"} ${t}`,children:e.jsxs("div",{className:"space-y-4",children:[t==="categories"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:i.name,onChange:P=>u({...i,name:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:i.description,onChange:P=>u({...i,description:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Slug"}),e.jsx("input",{type:"text",value:i.slug,onChange:P=>u({...i,slug:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Icon (emoji or text)"}),e.jsx("input",{type:"text",value:i.icon,onChange:P=>u({...i,icon:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Order"}),e.jsx("input",{type:"number",value:i.displayOrder,onChange:P=>u({...i,displayOrder:parseInt(P.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i.isActive,onChange:P=>u({...i,isActive:P.target.checked}),className:"mr-2"}),e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]})]}),t==="subcategories"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Parent Category"}),e.jsx("select",{value:i.categoryId,onChange:P=>u({...i,categoryId:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:h.map(P=>e.jsx("option",{value:P.id,children:P.name},P.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:i.name,onChange:P=>u({...i,name:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:i.description,onChange:P=>u({...i,description:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Slug"}),e.jsx("input",{type:"text",value:i.slug,onChange:P=>u({...i,slug:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Order"}),e.jsx("input",{type:"number",value:i.displayOrder,onChange:P=>u({...i,displayOrder:parseInt(P.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i.isActive,onChange:P=>u({...i,isActive:P.target.checked}),className:"mr-2"}),e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]})]}),t==="attributes"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:i.name,onChange:P=>u({...i,name:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),e.jsxs("select",{value:i.type,onChange:P=>u({...i,type:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"text",children:"Text"}),e.jsx("option",{value:"number",children:"Number"}),e.jsx("option",{value:"select",children:"Select"}),e.jsx("option",{value:"boolean",children:"Boolean"})]})]}),i.type==="select"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Options (comma-separated)"}),e.jsx("input",{type:"text",value:i.options?.join(", ")||"",onChange:P=>u({...i,options:P.target.value.split(",").map(J=>J.trim())}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Order"}),e.jsx("input",{type:"number",value:i.displayOrder,onChange:P=>u({...i,displayOrder:parseInt(P.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i.isRequired,onChange:P=>u({...i,isRequired:P.target.checked}),className:"mr-2"}),e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Required"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i.isActive,onChange:P=>u({...i,isActive:P.target.checked}),className:"mr-2"}),e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(R,{onClick:y,className:"flex-1",children:[e.jsx(He,{className:"w-4 h-4 mr-2"}),"Save"]}),e.jsxs(R,{onClick:()=>d(!1),variant:"secondary",className:"flex-1",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})}):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"System Configuration"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage categories, sub-categories, and product attributes"})]})}),e.jsxs("div",{className:"flex gap-2 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>l("categories"),className:`px-4 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors ${t==="categories"?"border-red-600 text-red-600 dark:text-red-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(gs,{className:"w-4 h-4"}),"Categories"]}),e.jsxs("button",{onClick:()=>l("subcategories"),className:`px-4 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors ${t==="subcategories"?"border-red-600 text-red-600 dark:text-red-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(hs,{className:"w-4 h-4"}),"Sub-Categories"]}),e.jsxs("button",{onClick:()=>l("attributes"),className:`px-4 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors ${t==="attributes"?"border-red-600 text-red-600 dark:text-red-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(xt,{className:"w-4 h-4"}),"Attributes"]})]}),e.jsx(T,{className:"p-8",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white capitalize",children:t}),e.jsxs("div",{className:"flex gap-2",children:[t==="categories"&&h.length===0&&e.jsx(R,{onClick:S,variant:"secondary",children:"Initialize Demo Data"}),e.jsxs(R,{onClick:v,children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Add ",t==="categories"?"Category":t==="subcategories"?"Sub-Category":"Attribute"]})]})]}),c?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[t==="categories"&&O(),t==="subcategories"&&p(),t==="attributes"&&w()]})]})}),B(),x&&e.jsx(ma,{message:x.message,type:x.type,onClose:()=>a(null)})]})}function ha(){const[t,l]=r.useState([]),[h,f]=r.useState(!1),[n,b]=r.useState(null),[o,k]=r.useState(!1),[c,g]=r.useState({name:"",description:"",price:0,estimatedDays:"",active:!0});r.useEffect(()=>{i()},[]);const i=async()=>{try{const a=await fetch(`${M}/delivery-options/all`,{headers:{Authorization:`Bearer ${G}`}});if(a.ok){const m=await a.json();l(m.deliveryOptions||[])}}catch(a){console.error("Error loading delivery options:",a)}},u=a=>{a?(b(a),g({name:a.name,description:a.description,price:a.price,estimatedDays:a.estimatedDays,active:a.active})):(b(null),g({name:"",description:"",price:0,estimatedDays:"",active:!0})),f(!0)},s=()=>{f(!1),b(null),g({name:"",description:"",price:0,estimatedDays:"",active:!0})},d=async()=>{k(!0);try{const a=n?`${M}/delivery-options/${n.id}`:`${M}/delivery-options`;(await fetch(a,{method:n?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify(c)})).ok&&(await i(),s())}catch(a){console.error("Error saving delivery option:",a)}finally{k(!1)}},x=async a=>{if(confirm("Are you sure you want to delete this delivery option?"))try{(await fetch(`${M}/delivery-options/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${G}`}})).ok&&await i()}catch(m){console.error("Error deleting delivery option:",m)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Delivery Options"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage shipping and delivery methods for your store"})]}),e.jsxs("button",{onClick:()=>u(),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:[e.jsx(me,{className:"w-5 h-5"}),"Add Delivery Option"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(a=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 border-2 border-gray-200 dark:border-gray-700 hover:border-red-500 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center",children:e.jsx(xe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:a.name}),e.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full mt-1 ${a.active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:a.active?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>u(a),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(je,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),e.jsx("button",{onClick:()=>x(a.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(re,{className:"w-4 h-4 text-red-600 dark:text-red-400"})})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:a.estimatedDays})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Et,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:"text-xl font-bold text-red-600",children:a.price===0?"FREE":a.price.toFixed(2)})]})]})]},a.id)),t.length===0&&e.jsxs("div",{className:"col-span-full bg-white dark:bg-gray-800 rounded-xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mx-auto mb-4",children:e.jsx(xe,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No delivery options yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Add your first delivery option to start offering shipping to customers"}),e.jsx("button",{onClick:()=>u(),className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:"Add Delivery Option"})]})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n?"Edit Delivery Option":"Add Delivery Option"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(Z,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Delivery Name"}),e.jsx("input",{type:"text",value:c.name,onChange:a=>g({...c,name:a.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white",placeholder:"e.g., Standard Shipping"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("input",{type:"text",value:c.description,onChange:a=>g({...c,description:a.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white",placeholder:"e.g., Delivered in 5-7 business days"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price ($)"}),e.jsx("input",{type:"number",value:c.price,onChange:a=>g({...c,price:parseFloat(a.target.value)||0}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white",placeholder:"0.00",step:"0.01",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estimated Time"}),e.jsx("input",{type:"text",value:c.estimatedDays,onChange:a=>g({...c,estimatedDays:a.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white",placeholder:"5-7 business days"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"active",checked:c.active,onChange:a=>g({...c,active:a.target.checked}),className:"w-5 h-5 text-red-600 rounded focus:ring-2 focus:ring-red-500"}),e.jsx("label",{htmlFor:"active",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active (available for customers to select)"})]})]}),e.jsxs("div",{className:"flex gap-4 p-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{onClick:s,className:"flex-1 px-6 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:d,disabled:o||!c.name||!c.description,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-semibold shadow-lg shadow-red-500/30 hover:shadow-xl transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(He,{className:"w-5 h-5"}),o?"Saving...":"Save Delivery Option"]})]})]})})]})}function ua(){const{formatPrice:t}=de(),[l,h]=r.useState([]),[f,n]=r.useState(!0),[b,o]=r.useState(""),[k,c]=r.useState(null);r.useEffect(()=>{g()},[]);const g=async()=>{try{n(!0);const s=await Us.getSoldProducts();h(s||[])}catch(s){console.error(s)}finally{n(!1)}},i=(s,d)=>{navigator.clipboard.writeText(s),c(d),setTimeout(()=>c(null),2e3)},u=l.filter(s=>s.productName.toLowerCase().includes(b.toLowerCase())||s.customerName.toLowerCase().includes(b.toLowerCase())||s.customerEmail.toLowerCase().includes(b.toLowerCase())||s.orderNumber.toLowerCase().includes(b.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Sold Products"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Track and manage sold digital keys"})]})}),e.jsx(T,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products, customers, or order numbers...",value:b,onChange:s=>o(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]})}),f?e.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Loading sold products..."}):u.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"No sold products found matching your search."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(s=>e.jsxs(T,{className:"p-6 flex flex-col h-full hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg",children:s.productName}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.orderNumber})]}),e.jsx("div",{className:"bg-green-100 text-green-800 text-xs font-semibold px-2 py-1 rounded-full",children:"Sold"})]}),e.jsxs("div",{className:"space-y-3 flex-grow",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Customer:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:s.customerName})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Email:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate max-w-[180px]",title:s.customerEmail,children:s.customerEmail})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Date:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:new Date(s.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Price:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t(s.price)})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Digital Key / Credentials"}),s.digitalItem.code&&e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded p-2",children:[e.jsx("code",{className:"text-sm font-mono text-blue-600 dark:text-blue-400 font-bold truncate mr-2 select-all",children:s.digitalItem.code}),e.jsx("button",{onClick:()=>i(s.digitalItem.code,`code-${s.id}`),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"Copy Code",children:k===`code-${s.id}`?e.jsx($t,{className:"w-4 h-4 text-green-500"}):e.jsx(st,{className:"w-4 h-4"})})]})}),(s.digitalItem.email||s.digitalItem.password)&&e.jsxs("div",{className:"space-y-2 mt-2",children:[s.digitalItem.email&&e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Email:"}),e.jsx("span",{className:"font-mono bg-white px-1 rounded select-all",children:s.digitalItem.email})]}),s.digitalItem.password&&e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Pass:"}),e.jsx("span",{className:"font-mono bg-white px-1 rounded select-all",children:s.digitalItem.password})]})]}),!s.digitalItem.code&&!s.digitalItem.email&&!s.digitalItem.password&&e.jsx("div",{className:"text-center text-sm text-gray-500 italic",children:"No digital content recorded"})]})})]},s.id))})]})}function ya({className:t,type:l,...h}){return e.jsx("input",{type:l,"data-slot":"input",className:fe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...h})}function pa({className:t,...l}){return e.jsx("textarea",{"data-slot":"textarea",className:fe("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...l})}function ba({className:t,...l}){return e.jsx(Ts,{"data-slot":"tabs",className:fe("flex flex-col gap-2",t),...l})}function fa({className:t,...l}){return e.jsx($s,{"data-slot":"tabs-list",className:fe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...l})}function Ke({className:t,...l}){return e.jsx(_s,{"data-slot":"tabs-trigger",className:fe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l})}function ja(){const[t,l]=r.useState([]),[h,f]=r.useState(!0),[n,b]=r.useState(!1),[o,k]=r.useState("registration"),[c,g]=r.useState(""),[i,u]=r.useState("");r.useEffect(()=>{s()},[]),r.useEffect(()=>{if(t.length>0){const x=t.find(a=>a.type===o);x&&(g(x.subject),u(x.body))}},[o,t]);const s=async()=>{try{f(!0);const x=await Oe.get("/email-templates");if(l(x),x.length>0){const a=x.find(m=>m.type===o)||x[0];g(a.subject),u(a.body)}}catch(x){Ge.error("Failed to load email templates"),console.error(x)}finally{f(!1)}},d=async()=>{try{b(!0),await Oe.put(`/email-templates/${o}`,{subject:c,body:i}),Ge.success("Template updated successfully"),l(x=>x.map(a=>a.type===o?{...a,subject:c,body:i}:a))}catch(x){Ge.error("Failed to update template"),console.error(x)}finally{b(!1)}};return h?e.jsx("div",{className:"p-8 flex justify-center",children:"Loading templates..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Email Templates"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage automated email content"})]})}),e.jsx(T,{className:"p-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm",children:e.jsxs(ba,{value:o,onValueChange:k,className:"w-full",children:[e.jsxs(fa,{className:"mb-6 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[e.jsx(Ke,{value:"registration",className:"flex-1 px-4 py-2 rounded-md data-[state=active]:bg-white dark:data-[state=active]:bg-gray-600 data-[state=active]:text-red-600 dark:data-[state=active]:text-red-400 data-[state=active]:shadow-sm data-[state=active]:font-bold transition-all",children:"Registration"}),e.jsx(Ke,{value:"order",className:"flex-1 px-4 py-2 rounded-md data-[state=active]:bg-white dark:data-[state=active]:bg-gray-600 data-[state=active]:text-red-600 dark:data-[state=active]:text-red-400 data-[state=active]:shadow-sm data-[state=active]:font-bold transition-all",children:"Order Confirmation"}),e.jsx(Ke,{value:"reset_password",className:"flex-1 px-4 py-2 rounded-md data-[state=active]:bg-white dark:data-[state=active]:bg-gray-600 data-[state=active]:text-red-600 dark:data-[state=active]:text-red-400 data-[state=active]:shadow-sm data-[state=active]:font-bold transition-all",children:"Reset Password"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Subject"}),e.jsx(ya,{value:c,onChange:x=>g(x.target.value),placeholder:"Email Subject",className:"max-w-xl bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white border-gray-300 dark:border-gray-600 focus:ring-red-500 focus:border-red-500 placeholder:text-gray-400 dark:placeholder:text-gray-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Content (HTML)"}),e.jsx(pa,{value:i,onChange:x=>u(x.target.value),placeholder:"<html>...</html>",className:"min-h-[400px] font-mono text-sm bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white border-gray-300 dark:border-gray-600 focus:ring-red-500 focus:border-red-500 placeholder:text-gray-400 dark:placeholder:text-gray-500"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-xs rounded-md border border-blue-100 dark:border-blue-800",children:[e.jsx("span",{className:"font-semibold",children:"Available placeholders:"}),e.jsxs("code",{className:"bg-white dark:bg-gray-800 px-1.5 py-0.5 rounded border border-blue-200 dark:border-blue-700",children:[o==="registration"&&" {{name}}",o==="order"&&" {{name}}, {{orderId}}",o==="reset_password"&&" {{link}}"]})]})]}),e.jsx("div",{className:"pt-4 flex justify-end border-t border-gray-100 dark:border-gray-700",children:e.jsx(R,{onClick:d,disabled:n,className:"bg-red-600 hover:bg-red-700 text-white min-w-[120px]",children:n?"Saving...":"Save Changes"})})]})]})})]})}function Na(){const[t,l]=r.useState(!1),[h,f]=r.useState(()=>localStorage.getItem("theme")==="dark"),[n,b]=r.useState(!1),[o,k]=r.useState(null),[c,g]=r.useState(null);r.useEffect(()=>{localStorage.setItem("theme",h?"dark":"light"),h?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[h]),r.useEffect(()=>{const s=localStorage.getItem("session"),d=localStorage.getItem("user");if(s&&d)try{const x=JSON.parse(s),a=JSON.parse(d);x&&x.access_token?(g(x),k(a),De(x.access_token),b(!0),console.log("Session restored from localStorage")):(console.log("Invalid session found, clearing..."),localStorage.removeItem("session"),localStorage.removeItem("user"))}catch(x){console.error("Error parsing saved session:",x),localStorage.removeItem("session"),localStorage.removeItem("user")}},[]);const i=(s,d)=>{k(s),g(d),De(d.access_token),b(!0),localStorage.setItem("user",JSON.stringify(s)),localStorage.setItem("session",JSON.stringify(d))},u=()=>{k(null),g(null),b(!1),De(null),localStorage.removeItem("user"),localStorage.removeItem("session")};return n?e.jsx("div",{className:`${h?"dark":""} admin-panel`,children:e.jsxs("div",{className:"flex h-screen bg-white dark:bg-gray-900 transition-colors",children:[e.jsx(Ls,{collapsed:t,onToggleCollapse:()=>l(!t),onLogout:u,userRole:o?.user_metadata?.role||"admin",userPermissions:o?.user_metadata?.permissions}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Bs,{isDarkMode:h,onToggleTheme:()=>f(!h),user:o,onLogout:u}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs(Mt,{children:[e.jsx(W,{path:"/",element:e.jsx(Ct,{to:"dashboard",replace:!0})}),e.jsx(W,{path:"dashboard",element:e.jsx(Vs,{})}),e.jsx(W,{path:"products",element:e.jsx(Qs,{})}),e.jsx(W,{path:"data-overview",element:e.jsx(Ys,{})}),e.jsx(W,{path:"orders",element:e.jsx(Ks,{})}),e.jsx(W,{path:"sold-products",element:e.jsx(ua,{})}),e.jsx(W,{path:"pos",element:e.jsx(xa,{})}),e.jsx(W,{path:"analytics",element:e.jsx(Xs,{})}),e.jsx(W,{path:"customers",element:e.jsx(ea,{})}),e.jsx(W,{path:"banners",element:e.jsx(oa,{})}),e.jsx(W,{path:"outlook",element:e.jsx(na,{})}),e.jsx(W,{path:"hr",element:e.jsx(ca,{})}),e.jsx(W,{path:"tasks",element:e.jsx(aa,{})}),e.jsx(W,{path:"team",element:e.jsx(ra,{})}),e.jsx(W,{path:"roles",element:e.jsx(da,{})}),e.jsx(W,{path:"system",element:e.jsx(ga,{})}),e.jsx(W,{path:"settings",element:e.jsx(la,{})}),e.jsx(W,{path:"delivery",element:e.jsx(ha,{})}),e.jsx(W,{path:"email-templates",element:e.jsx(ja,{})}),e.jsx(W,{path:"*",element:e.jsx(Ct,{to:"dashboard",replace:!0})})]})})]})]})}):e.jsx(Js,{onLogin:i})}function va({isOpen:t,onClose:l,onCheckout:h,onNavigate:f}){const[n,b]=r.useState([]);r.useEffect(()=>{o()},[t]);const o=async()=>{const d=JSON.parse(localStorage.getItem("cart")||"[]");if(d.length===0){b(d);return}try{const x=await Promise.all(d.map(async a=>{try{const y=(await oe.getById(a.id))?.products?.[0];return y?.image&&y.image!==a.image?{...a,image:y.image}:a}catch{return a}}));b(x),localStorage.setItem("cart",JSON.stringify(x))}catch{b(d)}},k=(d,x)=>{if(x<1)return;const a=n.map(m=>m.id===d?{...m,quantity:x}:m);b(a),localStorage.setItem("cart",JSON.stringify(a))},c=d=>{const x=n.filter(a=>a.id!==d);b(x),localStorage.setItem("cart",JSON.stringify(x))},g=()=>{b([]),localStorage.setItem("cart",JSON.stringify([]))},i=n.reduce((d,x)=>d+x.price*x.quantity,0),u=i*.1,s=i+u;return e.jsx(ue,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),e.jsxs($.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed right-0 top-0 h-full w-full sm:w-[480px] bg-white shadow-2xl z-50 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center",children:e.jsx(vt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Shopping Cart"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," items"]})]})]}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Z,{className:"w-6 h-6 text-gray-600"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:n.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:e.jsx(vt,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Add some products to get started!"}),e.jsx("button",{onClick:()=>{l(),f("shop")},className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:"Continue Shopping"})]}):e.jsxs(e.Fragment,{children:[n.map(d=>e.jsxs($.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex gap-4 p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"w-20 h-20 rounded-lg bg-white overflow-hidden flex-shrink-0 shadow-sm",children:e.jsx("img",{src:d.image,alt:d.name,onError:x=>{x.currentTarget.src="https://placehold.co/100x100?text=No+Image",x.currentTarget.onerror=null},className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:d.name}),d.category&&e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:d.category}),e.jsxs("p",{className:"text-lg font-bold text-red-600",children:["$",d.price.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("button",{onClick:()=>k(d.id,d.quantity-1),className:"w-7 h-7 rounded-lg bg-white border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:e.jsx(Ft,{className:"w-3 h-3 text-gray-600"})}),e.jsx("span",{className:"w-8 text-center font-semibold text-gray-900",children:d.quantity}),e.jsx("button",{onClick:()=>k(d.id,d.quantity+1),className:"w-7 h-7 rounded-lg bg-white border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:e.jsx(me,{className:"w-3 h-3 text-gray-600"})})]})]}),e.jsx("button",{onClick:()=>c(d.id),className:"p-2 h-fit hover:bg-red-50 rounded-lg transition-colors group",children:e.jsx(re,{className:"w-5 h-5 text-gray-400 group-hover:text-red-600 transition-colors"})})]},d.id)),n.length>0&&e.jsx("button",{onClick:g,className:"w-full py-2 text-sm text-red-600 hover:text-red-700 font-medium",children:"Clear Cart"})]})}),n.length>0&&e.jsxs("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:[e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"font-semibold",children:["$",i.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Tax (10%)"}),e.jsxs("span",{className:"font-semibold",children:["$",u.toFixed(2)]})]}),e.jsxs("div",{className:"border-t border-gray-300 pt-3 flex justify-between text-lg font-bold text-gray-900",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-red-600",children:["$",s.toFixed(2)]})]})]}),e.jsxs("button",{onClick:()=>{h(),l()},className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-xl font-semibold shadow-lg shadow-red-500/30 hover:shadow-xl transition-all flex items-center justify-center gap-2 group",children:["Proceed to Checkout",e.jsx(Ie,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),e.jsx("button",{onClick:()=>{l(),f("shop")},className:"w-full mt-3 py-3 text-gray-600 hover:text-gray-900 font-medium",children:"Continue Shopping"})]})]})]})})}function wa({isOpen:t,onClose:l,onNavigate:h}){const[f,n]=r.useState(""),[b,o]=r.useState([]),[k,c]=r.useState(!1);return r.useEffect(()=>{if(!t){n(""),o([]);return}},[t]),r.useEffect(()=>{const i=setTimeout(async()=>{if(!f.trim()){o([]);return}c(!0);try{const u=await oe.getPublic(void 0,f),s=u.products||(Array.isArray(u)?u:[]);o(s)}catch(u){console.error("Search failed:",u)}finally{c(!1)}},300);return()=>clearTimeout(i)},[f]),t?e.jsx(ue,{children:e.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-start justify-center pt-24 px-4",onClick:l,children:e.jsxs($.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},className:"bg-white w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[e.jsx(le,{className:"w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search games, consoles, accessories...",className:"flex-1 outline-none text-lg text-gray-800 placeholder-gray-400",value:f,onChange:g=>n(g.target.value),autoFocus:!0}),k?e.jsx(us,{className:"w-5 h-5 text-blue-600 animate-spin"}):e.jsx("button",{onClick:l,className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsx(Z,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:b.length>0?e.jsx("div",{className:"p-2",children:b.map(g=>e.jsxs("button",{onClick:()=>{h("product",g.id),l()},className:"w-full flex items-center gap-4 p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",children:[e.jsx("img",{src:g.image,alt:g.name,className:"w-16 h-16 object-cover rounded-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:g.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:g.description})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-bold text-blue-600",children:["$",g.price]}),e.jsx(Ie,{className:"w-4 h-4 text-gray-400"})]})]},g.id))}):f.trim()?e.jsx("div",{className:"p-8 text-center text-gray-500",children:!k&&"No results found"}):e.jsx("div",{className:"p-8 text-center text-gray-400",children:"Start typing to search..."})})]})})}):null}const ka="/assets/games%20up%20word%20black-gfQRNsdU.png",Sa="/assets/games%20up%20word%20white-0QJbyY9j.png";function Ca({variant:t="color",className:l="h-10 w-auto object-contain"}){const h=t==="white"?Sa:ka;return e.jsx("img",{src:h,alt:"Games Up",className:l})}const Gt="/assets/gamesupnew-cCEpXIR9.png";function Pa({children:t,currentPage:l,onNavigate:h,isCartOpen:f,onOpenCart:n,onCloseCart:b}){const[o,k]=r.useState(!1),[c,g]=r.useState(!1),[i,u]=r.useState(!1),[s,d]=r.useState(null),[x,a]=r.useState(0),[m,y]=r.useState(!1);r.useEffect(()=>{const O=localStorage.getItem("customerSession");if(O)try{const w=JSON.parse(O);d(w.user)}catch(w){console.error("Error parsing customer session:",w)}A();const p=()=>{k(window.scrollY>20)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const A=()=>{const O=JSON.parse(localStorage.getItem("cart")||"[]");a(O.length)},S=()=>{localStorage.removeItem("customerSession"),d(null),u(!1)},v=()=>{n(),A()},C=()=>{h("checkout")};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs($.header,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${o?"bg-white/80 backdrop-blur-xl shadow-lg border-b border-gray-200":"bg-white/60 backdrop-blur-md"}`,children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx($.div,{whileHover:{scale:1.05},className:"flex items-center gap-2 cursor-pointer",onClick:()=>h("home"),children:e.jsx("img",{src:Gt,alt:"Games Up",className:"h-6 w-auto object-contain"})}),e.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[e.jsxs("button",{onClick:()=>h("home"),className:`flex items-center gap-2 font-medium transition-colors ${l==="home"?"text-red-600":"text-gray-700 hover:text-red-600"}`,children:[e.jsx(wt,{className:"w-4 h-4"}),"Home"]}),e.jsxs("button",{onClick:()=>h("shop"),className:`flex items-center gap-2 font-medium transition-colors ${l==="shop"?"text-red-600":"text-gray-700 hover:text-red-600"}`,children:[e.jsx(kt,{className:"w-4 h-4"}),"Shop"]})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[e.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-lg hover:bg-gray-100 text-gray-700",onClick:()=>y(!0),children:e.jsx(le,{className:"w-5 h-5"})}),e.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative p-2 rounded-lg hover:bg-gray-100 text-gray-700",onClick:v,children:[e.jsx(ae,{className:"w-5 h-5"}),x>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-600 text-white text-xs font-bold rounded-full flex items-center justify-center",children:x})]}),s?e.jsxs("div",{className:"relative",children:[e.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!i),className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-gray-100 text-gray-700",children:[e.jsx(se,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsx(ue,{children:i&&e.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white/90 backdrop-blur-xl rounded-xl shadow-xl border border-gray-200 overflow-hidden",children:[e.jsxs("button",{onClick:()=>{h("profile"),u(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-2 text-gray-700",children:[e.jsx(se,{className:"w-4 h-4"}),"My Profile"]}),e.jsxs("button",{onClick:()=>{h("orders"),u(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-2 text-gray-700",children:[e.jsx(Y,{className:"w-4 h-4"}),"My Orders"]}),e.jsxs("button",{onClick:()=>{h("favorites"),u(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-2 text-gray-700",children:[e.jsx(Ne,{className:"w-4 h-4"}),"Favorites"]}),e.jsxs("button",{onClick:S,className:"w-full px-4 py-3 text-left hover:bg-red-50 flex items-center gap-2 text-red-600 border-t border-gray-200",children:[e.jsx(Je,{className:"w-4 h-4"}),"Logout"]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h("login"),className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-gray-100 text-gray-700 font-medium",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Login"]}),e.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h("signup"),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-red-600 to-red-500 text-white font-medium shadow-lg shadow-red-500/30",children:[e.jsx(tt,{className:"w-4 h-4"}),"Sign Up"]})]})]}),e.jsx($.button,{whileTap:{scale:.95},onClick:()=>g(!c),className:"md:hidden p-2 rounded-lg hover:bg-gray-100",children:c?e.jsx(Z,{className:"w-6 h-6 text-gray-700"}):e.jsx(ys,{className:"w-6 h-6 text-gray-700"})})]})}),e.jsx(ue,{children:c&&e.jsx($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white/95 backdrop-blur-xl border-t border-gray-200",children:e.jsxs("div",{className:"px-4 py-4 space-y-2",children:[e.jsxs("button",{onClick:()=>{h("home"),g(!1)},className:"w-full flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 text-gray-700 font-medium",children:[e.jsx(wt,{className:"w-5 h-5"}),"Home"]}),e.jsxs("button",{onClick:()=>{h("shop"),g(!1)},className:"w-full flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 text-gray-700 font-medium",children:[e.jsx(kt,{className:"w-5 h-5"}),"Shop"]}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-600",children:["Signed in as ",e.jsx("span",{className:"font-semibold",children:s.name})]}),e.jsxs("button",{className:"w-full flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 text-gray-700 font-medium",children:[e.jsx(Y,{className:"w-5 h-5"}),"My Orders"]}),e.jsxs("button",{onClick:S,className:"w-full flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-red-50 text-red-600 font-medium",children:[e.jsx(Je,{className:"w-5 h-5"}),"Logout"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{h("login"),g(!1)},className:"w-full flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 text-gray-700 font-medium",children:[e.jsx(Xe,{className:"w-5 h-5"}),"Login"]}),e.jsxs("button",{onClick:()=>{h("signup"),g(!1)},className:"w-full flex items-center gap-2 px-4 py-3 rounded-lg bg-gradient-to-r from-red-600 to-red-500 text-white font-medium shadow-lg",children:[e.jsx(tt,{className:"w-5 h-5"}),"Sign Up"]})]})]})})})]}),e.jsx("main",{className:"pt-16",children:t}),e.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-4",children:e.jsx(Ca,{variant:"white",className:"h-10 w-auto object-contain"})}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Your ultimate destination for gaming products and digital goods."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About Us"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"FAQ"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Shop"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"All Products"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Featured"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Best Sellers"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"})})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400 text-sm",children:e.jsx("p",{children:"© 2026 Games - Up. All rights reserved."})})]})}),e.jsx(va,{isOpen:f,onClose:()=>{b(),A()},onCheckout:C,onNavigate:h}),e.jsx(wa,{isOpen:m,onClose:()=>y(!1),onNavigate:h})]})}const Ze={consoles:at,games:ws,accessories:vs,headsets:Lt,storage:Ns,monitors:js,pc:fs,mobile:bs};function It({onNavigate:t,onOpenCart:l}){const[h,f]=r.useState([]),[n,b]=r.useState([]),[o,k]=r.useState(0),[c,g]=r.useState({title:"SPECIAL OFFER",subtitle:"Up to 50% Off on Selected Items"}),[i,u]=r.useState({badge:"🎮 Your Ultimate Gaming Destination",title:"GAMES UP",subtitle:"Discover exclusive gaming products, accessories, and digital content. Level up your gaming experience today.",ctaPrimary:"Shop Now",ctaSecondary:"Learn More"});r.useEffect(()=>{d(),x();const a=()=>{const m=localStorage.getItem("specialOfferConfig");m&&g(JSON.parse(m));const y=localStorage.getItem("heroConfig");y&&u(JSON.parse(y))};return a(),window.addEventListener("storage",a),window.addEventListener("specialOfferUpdated",a),window.addEventListener("heroConfigUpdated",a),()=>{window.removeEventListener("storage",a),window.removeEventListener("specialOfferUpdated",a),window.removeEventListener("heroConfigUpdated",a)}},[]);const s=a=>{const m=JSON.parse(localStorage.getItem("cart")||"[]");m.push({id:a.id||`temp-${Date.now()}`,name:a.name||"Product",price:a.price||0,image:a.image||"",quantity:1}),localStorage.setItem("cart",JSON.stringify(m)),l()},d=async()=>{try{const a=await fetch(`${M}/system/categories`,{headers:{Authorization:`Bearer ${G}`}});if(a.ok){const m=await a.json();b(m.filter(y=>y.isActive).slice(0,6))}}catch(a){console.error("Error loading categories:",a)}},x=async()=>{try{const a=await fetch(`${M}/products`,{headers:{Authorization:`Bearer ${G}`}});if(a.ok){const m=await a.json();f((m.products||[]).slice(0,8))}}catch(a){console.error("Error loading products:",a)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("section",{className:"relative bg-gradient-to-br from-red-600 via-red-500 to-orange-500 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1vcGFjaXR5PSIwLjA1IiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-30"}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 md:py-32 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs($.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsx("div",{className:"inline-block px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-full text-sm font-semibold mb-6 border border-white/30",children:i.badge}),e.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-black mb-6 text-white leading-tight",children:i.title}),e.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8 leading-relaxed font-light",children:i.subtitle}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("shop"),className:"px-8 py-4 bg-white text-red-600 font-bold rounded-lg shadow-2xl flex items-center gap-2 hover:bg-gray-50 transition-all",children:[i.ctaPrimary,e.jsx(Ie,{className:"w-5 h-5"})]}),e.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-8 py-4 bg-transparent border-2 border-white text-white font-bold rounded-lg hover:bg-white/10 transition-all",children:i.ctaSecondary})]})]}),e.jsx($.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"relative",children:e.jsx("div",{className:"relative aspect-[4/3] bg-white/10 backdrop-blur-lg rounded-3xl border-2 border-white/20 overflow-hidden shadow-2xl",children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(at,{className:"w-24 h-24 mx-auto mb-4 opacity-50"}),e.jsx("div",{className:"text-4xl font-bold",children:"1000+"}),e.jsx("div",{className:"text-lg opacity-80",children:"Products Available"})]})})})})]})})]}),e.jsx("section",{className:"py-16 bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"BROWSE BY CATEGORY"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>k(a=>Math.max(0,a-1)),disabled:o===0,className:"p-2 rounded-full border border-gray-300 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(Ot,{className:"w-5 h-5 text-gray-600"})}),e.jsx("button",{onClick:()=>k(a=>Math.min((n.length||6)-4,a+1)),disabled:o>=(n.length||6)-4,className:"p-2 rounded-full border border-gray-300 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(ps,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("button",{onClick:()=>t("shop"),className:"text-red-600 font-semibold hover:text-red-700 flex items-center gap-2",children:["View All",e.jsx(Ie,{className:"w-4 h-4"})]})]})]}),e.jsx("div",{className:"overflow-hidden",children:e.jsx($.div,{className:"flex gap-6",animate:{x:`calc(-${o} * (25% + 0.375rem))`},transition:{type:"spring",stiffness:300,damping:30},children:(n.length>0?n:[{icon:"🎮",name:"Consoles",slug:"consoles"},{icon:"🎯",name:"Games",slug:"games"},{icon:"🎧",name:"Headsets",slug:"headsets"},{icon:"📱",name:"Accessories",slug:"accessories"},{icon:"💾",name:"Storage",slug:"storage"},{icon:"🖥️",name:"Monitors",slug:"monitors"}]).map((a,m)=>{const y=a.slug||a.name.toLowerCase(),A=Ze[y]||Ze[Object.keys(Ze).find(S=>y.includes(S))||""]||Y;return e.jsxs($.button,{onClick:()=>t("shop",void 0,y),className:"relative flex-shrink-0 w-[calc(25%-1.125rem)] flex flex-col items-center justify-center p-8 bg-white border border-gray-100 rounded-2xl shadow-sm hover:shadow-xl hover:border-red-100 transition-all duration-300 group overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-50 to-orange-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"relative z-10 mb-4 transform group-hover:scale-110 transition-transform duration-300",children:e.jsx(A,{className:"w-12 h-12 text-red-600",strokeWidth:1.5})}),e.jsx("span",{className:"relative z-10 text-sm font-bold text-gray-800 uppercase tracking-wider group-hover:text-red-600 transition-colors",children:a.name})]},a.id||m)})})})]})}),e.jsx("section",{className:"py-8 bg-gradient-to-r from-orange-500 to-red-600",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(ce,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"text-white",children:[e.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide",children:c.title}),e.jsx("p",{className:"text-2xl font-bold",children:c.subtitle})]})]}),e.jsx("button",{onClick:()=>t("shop"),className:"hidden md:block px-6 py-3 bg-white text-red-600 font-bold rounded-lg hover:bg-gray-50 transition-all",children:"Shop Deals"})]})})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"FEATURED PRODUCTS"}),e.jsxs("button",{onClick:()=>t("shop"),className:"text-red-600 font-semibold hover:text-red-700 flex items-center gap-2",children:["View All",e.jsx(Ie,{className:"w-4 h-4"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:h.length>0?h.map((a,m)=>e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},whileHover:{y:-8},className:"bg-white border-2 border-gray-200 rounded-xl overflow-hidden hover:border-red-500 hover:shadow-xl transition-all cursor-pointer group",onClick:()=>t("shop"),children:[e.jsx("div",{className:"aspect-square bg-gray-100 overflow-hidden",children:a.image?e.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Y,{className:"w-16 h-16 text-gray-300"})})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 text-sm",children:a.name}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xl font-bold text-red-600",children:["$",a.price.toFixed(2)]}),e.jsx("button",{onClick:y=>{y.stopPropagation(),s(a)},className:"px-3 py-1.5 bg-red-600 text-white text-xs font-semibold rounded hover:bg-red-700 transition-colors",children:"Add to Cart"})]})]})]},a.id)):Array(8).fill(0).map((a,m)=>e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},whileHover:{y:-8},className:"bg-white border-2 border-gray-200 rounded-xl overflow-hidden hover:border-red-500 hover:shadow-xl transition-all cursor-pointer",onClick:()=>t("shop"),children:[e.jsx("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Y,{className:"w-16 h-16 text-gray-300"})})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 text-sm",children:["Gaming Product ",m+1]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xl font-bold text-red-600",children:"$59.99"}),e.jsx("button",{onClick:y=>{y.stopPropagation(),s({id:`placeholder-${m}`,name:`Gaming Product ${m+1}`,price:59.99,image:""})},className:"px-3 py-1.5 bg-red-600 text-white text-xs font-semibold rounded hover:bg-red-700 transition-colors",children:"Add to Cart"})]})]})]},m))})]})}),e.jsx("section",{className:"py-16 bg-gray-900",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs($.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-red-600 to-red-500 rounded-2xl p-8 text-white",children:[e.jsx(at,{className:"w-12 h-12 mb-4"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"New Arrivals"}),e.jsx("p",{className:"text-red-100 mb-4",children:"Check out the latest gaming gear"}),e.jsx("button",{className:"text-white font-semibold underline hover:no-underline",children:"Shop Now →"})]}),e.jsxs($.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-orange-600 to-orange-500 rounded-2xl p-8 text-white",children:[e.jsx(ke,{className:"w-12 h-12 mb-4"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Best Sellers"}),e.jsx("p",{className:"text-orange-100 mb-4",children:"Top-rated products this month"}),e.jsx("button",{className:"text-white font-semibold underline hover:no-underline",children:"View All →"})]}),e.jsxs($.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-purple-600 to-purple-500 rounded-2xl p-8 text-white",children:[e.jsx(Lt,{className:"w-12 h-12 mb-4"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Accessories"}),e.jsx("p",{className:"text-purple-100 mb-4",children:"Enhance your gaming setup"}),e.jsx("button",{className:"text-white font-semibold underline hover:no-underline",children:"Explore →"})]})]})})}),e.jsx("section",{className:"py-16 bg-white border-t border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"DEALS OF THE WEEK"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Limited time offers - Don't miss out!"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map((a,m)=>e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},whileHover:{y:-8},className:"bg-white border-2 border-gray-200 rounded-xl overflow-hidden hover:border-red-500 hover:shadow-xl transition-all cursor-pointer relative",onClick:()=>t("shop"),children:[e.jsx("div",{className:"absolute top-4 right-4 z-10 px-3 py-1 bg-red-600 text-white text-xs font-bold rounded-full",children:"-30%"}),e.jsx("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Y,{className:"w-16 h-16 text-gray-300"})})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 text-sm",children:["Special Deal Product ",a]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-sm text-gray-400 line-through",children:"$99.99"}),e.jsx("span",{className:"text-xl font-bold text-red-600",children:"$69.99"})]}),e.jsx("button",{className:"w-full py-2 bg-red-600 text-white text-sm font-semibold rounded hover:bg-red-700 transition-colors",children:"Add to Cart"})]})]},a))})]})}),e.jsx("section",{className:"py-16 bg-gradient-to-br from-red-600 to-red-500",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:e.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Stay Updated"}),e.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Subscribe to get special offers, exclusive deals, and gaming news"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-6 py-4 rounded-lg focus:outline-none focus:ring-4 focus:ring-white/30"}),e.jsx("button",{className:"px-8 py-4 bg-white text-red-600 font-bold rounded-lg hover:bg-gray-50 transition-all whitespace-nowrap",children:"Subscribe"})]})]})})}),e.jsx("section",{className:"py-16 bg-white border-t border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{icon:"🚚",title:"Free Shipping",subtitle:"On orders over $50"},{icon:"🔒",title:"Secure Payment",subtitle:"100% protected"},{icon:"💬",title:"24/7 Support",subtitle:"Dedicated support"},{icon:"↩️",title:"Easy Returns",subtitle:"30-day guarantee"}].map((a,m)=>e.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:m*.1},className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:a.icon}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600",children:a.subtitle})]},m))})})})]})}function Aa({onNavigate:t,onOpenCart:l}){const{formatPrice:h}=de(),[f,n]=ut(),[b,o]=r.useState([]),[k,c]=r.useState([]),g=f.get("category"),[i,u]=r.useState(""),[s,d]=r.useState(!0);r.useEffect(()=>{x(),a()},[g]);const x=async()=>{try{const v=await fetch(`${M}/system/categories`,{headers:{Authorization:`Bearer ${G}`}});if(v.ok){const C=await v.json();c(C.filter(O=>O.isActive))}}catch(v){console.error("Error loading categories:",v)}},a=async()=>{d(!0);try{const v=g?`${M}/public/products?category=${g}`:`${M}/public/products`,C=await fetch(v,{headers:{Authorization:`Bearer ${G}`}});if(C.ok){const O=await C.json();o(O.products||[])}}catch(v){console.error("Error loading products:",v)}finally{d(!1)}},m=b.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())||v.description?.toLowerCase().includes(i.toLowerCase())),y=v=>{const C=JSON.parse(localStorage.getItem("cart")||"[]");C.push({id:v.id,name:v.name,price:v.price,image:v.image,quantity:1}),localStorage.setItem("cart",JSON.stringify(C)),l()},A=v=>{const C=JSON.parse(localStorage.getItem("favorites")||"[]"),O=C.findIndex(p=>p.id===v.id);O>=0?(C.splice(O,1),alert("Removed from favorites!")):(C.push({id:v.id,name:v.name,price:v.price,image:v.image,category:v.categorySlug,rating:v.rating}),alert("Added to favorites!")),localStorage.setItem("favorites",JSON.stringify(C))},S=v=>JSON.parse(localStorage.getItem("favorites")||"[]").some(O=>O.id===v);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-red-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-gray-900 to-red-600 bg-clip-text text-transparent",children:"Shop All Products"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Browse our extensive collection of gaming products"})]}),e.jsxs("div",{className:"mb-8 flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(le,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search products...",value:i,onChange:v=>u(v.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent shadow-lg"})]}),e.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-4 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl flex items-center gap-2 font-medium hover:bg-white shadow-lg",children:[e.jsx(_t,{className:"w-5 h-5"}),"Filters"]})]}),e.jsxs("div",{className:"mb-8 flex flex-wrap gap-3",children:[e.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n({}),className:`px-6 py-3 rounded-xl font-medium transition-all ${g?"bg-white/80 backdrop-blur-sm text-gray-700 hover:bg-white border border-gray-200":"bg-gradient-to-r from-red-600 to-red-500 text-white shadow-lg shadow-red-500/30"}`,children:"All Products"}),k.map(v=>e.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n({category:v.slug}),className:`px-6 py-3 rounded-xl font-medium transition-all flex items-center gap-2 ${g===v.slug?"bg-gradient-to-r from-red-600 to-red-500 text-white shadow-lg shadow-red-500/30":"bg-white/80 backdrop-blur-sm text-gray-700 hover:bg-white border border-gray-200"}`,children:[e.jsx("span",{children:v.icon}),v.name]},v.id))]}),s?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading products..."})]}):m.length===0?e.jsx("div",{className:"text-center py-20",children:e.jsx("p",{className:"text-gray-600 text-xl",children:"No products found."})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map((v,C)=>e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.05},whileHover:{y:-10},onClick:()=>t("product",v.id),className:"bg-white/90 backdrop-blur-sm rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all border border-gray-100 cursor-pointer group",children:[e.jsxs("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden",children:[v.image?e.jsx("img",{src:v.image,alt:v.name,onError:O=>{O.currentTarget.src="https://placehold.co/400x400?text=No+Image",O.currentTarget.onerror=null},className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image"}),v.stock<=0&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"Out of Stock"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-lg mb-2 text-gray-900 line-clamp-1",children:v.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:v.description}),v.rating&&e.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[[...Array(5)].map((O,p)=>e.jsx(ke,{className:`w-4 h-4 ${p<v.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},p)),e.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",v.rating,")"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl font-bold text-red-600",children:h(v.price)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:O=>{O.stopPropagation(),A(v)},className:"p-3 rounded-xl border-2 border-gray-300 hover:border-red-500 transition-colors",children:e.jsx(Ne,{className:`w-5 h-5 ${S(v.id)?"fill-red-500 text-red-500":"text-gray-400"}`})}),e.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:O=>{O.stopPropagation(),y(v)},disabled:v.stock<=0,className:`p-3 rounded-xl flex items-center gap-2 font-medium ${v.stock>0?"bg-gradient-to-r from-red-600 to-red-500 text-white shadow-lg shadow-red-500/30 hover:shadow-xl":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:e.jsx(ae,{className:"w-5 h-5"})})]})]})]})]},v.id))})]})})}function Ia({onOpenCart:t,productId:l}){const h=ht(),{formatPrice:f}=de(),[n,b]=r.useState(null),[o,k]=r.useState(!0),[c,g]=r.useState(0),[i,u]=r.useState(1),[s,d]=r.useState(!1);r.useEffect(()=>{l?x(l):k(!1)},[l]),r.useEffect(()=>{if(n){const y=JSON.parse(localStorage.getItem("favorites")||"[]");d(y.some(A=>A.id===n.id))}},[n]);const x=async y=>{k(!0);try{console.log("Loading product:",y);const A=await fetch(`${M}/products?id=${y}`,{headers:{Authorization:`Bearer ${G}`}});if(A.ok){const S=await A.json();console.log("Product data:",S);const v=S.products?S.products.find(C=>C.id==y):null;v?b({...v,rating:v.rating||4.5,reviews:128,specs:{Platform:"PlayStation 5",Genre:"Action / Adventure",Publisher:"Sony Interactive Entertainment","Release Date":"Nov 09, 2022"}}):console.log("Product not found in list")}else console.error("Failed to fetch product:",A.status)}catch(A){console.error("Error loading product:",A)}finally{k(!1)}},a=()=>{if(!n)return;const y=JSON.parse(localStorage.getItem("cart")||"[]"),A=y.findIndex(S=>S.id===n.id);A>=0?y[A].quantity+=i:y.push({id:n.id,name:n.name,price:n.price,image:n.image,quantity:i}),localStorage.setItem("cart",JSON.stringify(y)),t()},m=()=>{if(!n)return;const y=JSON.parse(localStorage.getItem("favorites")||"[]"),A=y.findIndex(S=>S.id===n.id);A>=0?(y.splice(A,1),d(!1)):(y.push({id:n.id,name:n.name,price:n.price,image:n.image,category:n.categorySlug,rating:n.rating}),d(!0)),localStorage.setItem("favorites",JSON.stringify(y))};return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-red-600"})}):n?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("button",{onClick:()=>h("/shop"),className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors mb-8 group",children:[e.jsx("div",{className:"p-2 bg-white rounded-full shadow-sm group-hover:shadow-md transition-all",children:e.jsx(Rt,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-medium",children:"Back to Shop"})]}),e.jsx("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-0",children:[e.jsxs("div",{className:"p-8 lg:p-12 bg-gray-50 flex flex-col items-center justify-center relative overflow-hidden",children:[e.jsx($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"relative z-10 w-full max-w-lg aspect-square",children:e.jsx("img",{src:n.image,alt:n.name,onError:y=>{y.currentTarget.src="https://placehold.co/600x600?text=No+Image",y.currentTarget.onerror=null},className:"w-full h-full object-cover drop-shadow-2xl hover:scale-105 transition-transform duration-500"})}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-red-100 rounded-full blur-3xl opacity-50 -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-blue-100 rounded-full blur-3xl opacity-50 translate-y-1/2 -translate-x-1/2"})]}),e.jsxs("div",{className:"p-8 lg:p-12 flex flex-col",children:[e.jsxs("div",{className:"mb-auto",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx($.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"inline-block px-3 py-1 bg-red-100 text-red-600 text-xs font-bold rounded-full uppercase tracking-wider mb-3",children:n.categorySlug||"Gaming"}),e.jsx($.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2 leading-tight",children:n.name})]}),e.jsx("button",{className:"p-3 rounded-full bg-gray-50 hover:bg-red-50 text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(ks,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-1 text-yellow-400",children:[e.jsx(ke,{className:"w-5 h-5 fill-current"}),e.jsx("span",{className:"font-bold text-gray-900 ml-1",children:n.rating})]}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsxs("span",{className:"text-gray-600",children:[n.reviews," Reviews"]}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsx("span",{className:`font-medium ${n.stock>0?"text-green-600":"text-red-600"}`,children:n.stock>0?"In Stock":"Out of Stock"})]}),e.jsx($.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-gray-600 text-lg leading-relaxed mb-8",children:n.description}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:n.specs&&Object.entries(n.specs).map(([y,A],S)=>e.jsxs($.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3+S*.1},className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("span",{className:"block text-xs text-gray-500 uppercase font-semibold mb-1",children:y}),e.jsx("span",{className:"block text-gray-900 font-medium",children:A})]},y))})]}),e.jsxs("div",{className:"pt-8 border-t border-gray-100 mt-8",children:[e.jsxs("div",{className:"flex items-end justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 text-sm font-medium mb-1 block",children:"Total Price"}),e.jsx("span",{className:"text-4xl font-bold text-gray-900",children:f(n.price*i)})]}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-xl p-1",children:[e.jsx("button",{onClick:()=>u(Math.max(1,i-1)),className:"w-10 h-10 flex items-center justify-center text-gray-600 hover:bg-white hover:shadow-sm rounded-lg transition-all font-bold text-lg",children:"-"}),e.jsx("span",{className:"w-12 text-center font-bold text-gray-900",children:i}),e.jsx("button",{onClick:()=>u(i+1),className:"w-10 h-10 flex items-center justify-center text-gray-600 hover:bg-white hover:shadow-sm rounded-lg transition-all font-bold text-lg",children:"+"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,disabled:n.stock<=0,className:`flex-1 py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-xl shadow-red-500/20 ${n.stock>0?"bg-gradient-to-r from-red-600 to-red-500 text-white hover:from-red-700 hover:to-red-600":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:[e.jsx(ae,{className:"w-6 h-6"}),"Add to Cart"]}),e.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:m,className:`p-4 rounded-xl border-2 transition-all ${s?"border-red-500 bg-red-50 text-red-500":"border-gray-200 hover:border-red-500 hover:bg-red-50 text-gray-400 hover:text-red-500"}`,children:e.jsx(Ne,{className:`w-6 h-6 ${s?"fill-current":""}`})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6 mt-6 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{children:"Free Shipping"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-4 h-4"}),e.jsx("span",{children:"2 Year Warranty"})]})]})]})]})]})})]})}):e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Product not found"}),e.jsx("button",{onClick:()=>h("/shop"),className:"px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors",children:"Back to Shop"})]})}function Da({mode:t,onSuccess:l,onSwitchMode:h}){const[f,n]=r.useState(""),[b,o]=r.useState(""),[k,c]=r.useState(""),[g,i]=r.useState(""),[u,s]=r.useState(!1),[d,x]=r.useState(!1),[a,m]=r.useState(""),y=async A=>{A.preventDefault(),m(""),x(!0);try{const S=t==="login"?"customer/login":"customer/signup",v=t==="login"?{email:f,password:b}:{email:f,password:b,name:k,phone:g},C=await fetch(`${M}/${S}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify(v)}),O=await C.json();if(!C.ok)throw new Error(O.error||"Authentication failed");localStorage.setItem("customerSession",JSON.stringify(O.session)),l()}catch(S){m(S.message||"An error occurred")}finally{x(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 flex items-center justify-center px-4 py-12",children:e.jsxs($.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:[e.jsxs($.button,{whileHover:{x:-5},onClick:()=>l(),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8 font-medium",children:[e.jsx(Rt,{className:"w-5 h-5"}),"Back to Home"]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-gray-100",children:[e.jsx("div",{className:"flex items-center justify-center gap-2 mb-8",children:e.jsx("img",{src:Gt,alt:"Games Up",className:"h-12 w-auto object-contain"})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-gray-900 to-red-600 bg-clip-text text-transparent",children:t==="login"?"Welcome Back!":"Create Account"}),e.jsx("p",{className:"text-gray-600",children:t==="login"?"Sign in to continue shopping":"Join us and start shopping"})]}),a&&e.jsx($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl mb-6",children:a}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[t==="signup"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:k,onChange:A=>c(A.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"tel",value:g,onChange:A=>i(A.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your phone (optional)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ye,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"email",value:f,onChange:A=>n(A.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ss,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:u?"text":"password",value:b,onChange:A=>o(A.target.value),required:!0,className:"w-full pl-12 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>s(!u),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?e.jsx(gt,{className:"w-5 h-5"}):e.jsx(we,{className:"w-5 h-5"})})]})]}),t==="login"&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("label",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx("input",{type:"checkbox",className:"rounded"}),"Remember me"]}),e.jsx("a",{href:"#",className:"text-red-600 hover:text-red-700 font-medium",children:"Forgot password?"})]}),e.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:d,className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-500 text-white font-semibold rounded-xl shadow-xl shadow-red-500/30 hover:shadow-2xl transition-shadow disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Please wait...":t==="login"?"Sign In":"Create Account"})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[t==="login"?"Don't have an account? ":"Already have an account? ",e.jsx("button",{onClick:()=>h(t==="login"?"signup":"login"),className:"text-red-600 hover:text-red-700 font-semibold",children:t==="login"?"Sign up":"Sign in"})]})]}),e.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})}function Oa({onBack:t,onSuccess:l}){const{formatPrice:h}=de(),[f]=ut(),n=r.useRef(null),[b,o]=r.useState("info"),[k,c]=r.useState(!1),[g,i]=r.useState([]),[u,s]=r.useState([]),[d,x]=r.useState([]),[a,m]=r.useState(""),[y,A]=r.useState(!1),[S,v]=r.useState("card"),[C,O]=r.useState(null),[p,w]=r.useState({fullName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",cardNumber:"",cardName:"",expiryDate:"",cvv:""});r.useEffect(()=>{const D=f.get("payment_ref")||f.get("tran_ref"),F=f.get("cart_id")||f.get("orderNumber");D&&F?B(D,F):(P(),J())},[f]);const B=async(D,F)=>{A(!0),o("payment");try{const I=await(await fetch(`${M}/payment/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify({tranRef:D,orderNumber:F})})).json();if(I.success){const N=JSON.parse(localStorage.getItem("cart")||"[]");s(N),i(N),localStorage.setItem("cart",JSON.stringify([])),o("success")}else alert("Payment verification failed: "+I.message),o("payment")}catch(j){console.error("Payment verification error:",j),alert("Payment verification failed. Please contact support.")}finally{A(!1)}},P=()=>{const D=JSON.parse(localStorage.getItem("cart")||"[]");i(D)},J=async()=>{try{const D=await fetch(`${M}/delivery-options`,{headers:{Authorization:`Bearer ${G}`}});if(D.ok){const F=await D.json();x(F.deliveryOptions||[]),F.deliveryOptions?.length>0&&m(F.deliveryOptions[0].id)}}catch(D){console.error("Error loading delivery options:",D)}},L=D=>{w({...p,[D.target.name]:D.target.value})},ie=D=>{D.target.files&&D.target.files[0]&&O(D.target.files[0])},ee=async()=>{c(!0),await new Promise(F=>setTimeout(F,100));const D=n.current;if(!D){c(!1);return}try{const F=await pt(D,{scale:2,logging:!1,useCORS:!0,windowWidth:794}),j=F.toDataURL("image/png"),I=new bt("p","mm","a4"),N=I.internal.pageSize.getWidth(),_=F.height*N/F.width;I.addImage(j,"PNG",0,0,N,_),I.save(`receipt-${p.fullName.replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.pdf`)}catch(F){console.error("Error generating PDF:",F),alert("Failed to generate PDF receipt.")}finally{c(!1)}},ne=async D=>{if(D.preventDefault(),b==="info")o("delivery");else if(b==="delivery")o("payment");else if(b==="payment"){if(["instapay","vodafone_cash","telda"].includes(S)&&!C){alert("Please upload a screenshot of your payment.");return}A(!0);try{let F=null;if(["instapay","vodafone_cash","telda"].includes(S)&&C){const V=new FormData;V.append("image",C);const Q=await fetch(`${M}/upload`,{method:"POST",body:V});if(Q.ok)F=(await Q.json()).url;else throw new Error("Failed to upload payment proof")}const j=localStorage.getItem("customerSession");let I="guest@gamesup.com",N=p.fullName;if(j){const V=JSON.parse(j);I=V.user.email,N=V.user.name}const _=d.find(V=>V.id===a),U={customerEmail:I,customerName:N,items:g,total:te,deliveryMethod:_?.name||"Standard Shipping",shippingAddress:{fullName:p.fullName,email:p.email,phone:p.phone,address:p.address,city:p.city,state:p.state,zipCode:p.zipCode},paymentMethod:S,paymentProof:F},q=await fetch(`${M}/customer-orders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify(U)});if(q.ok){const Q=(await q.json()).orderNumber;if(S==="card"){const ge=await(await fetch(`${M}/payment/create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify({orderNumber:Q,customerName:N,customerEmail:I,total:te,shippingAddress:U.shippingAddress,items:g})})).json();ge.success&&ge.redirect_url?window.location.href=ge.redirect_url:(alert("Failed to initiate payment. Please try again."),A(!1))}else{const X=JSON.parse(localStorage.getItem("cart")||"[]");s(X),i(X),localStorage.setItem("cart",JSON.stringify([])),o("success"),A(!1)}}else alert("Failed to create order. Please try again."),A(!1)}catch(F){console.error("Error creating order:",F),alert("Failed to create order. Please try again.")}finally{S==="card"||S!=="card"&&A(!1)}}},E=g.reduce((D,F)=>D+F.price*F.quantity,0),H=E*.1,K=a&&d.find(D=>D.id===a)?.price||0,te=E+H+K;return b==="success"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-white py-12 px-4",children:e.jsx($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx($.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ee,{className:"w-12 h-12 text-green-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Order Successful!"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Your order has been placed successfully. You'll receive a confirmation email shortly."}),u.length>0&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-6 text-left",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Your Digital Items"}),e.jsx("div",{className:"space-y-4",children:u.map((D,F)=>e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("img",{src:D.image,alt:D.name,className:"w-16 h-16 object-cover rounded-md"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900",children:D.name}),D.attributes&&Object.keys(D.attributes).length>0&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Object.entries(D.attributes).map(([j,I])=>e.jsxs("span",{className:"mr-2",children:[j,": ",String(I)]},j))}),e.jsx("p",{className:"text-sm text-gray-500",children:"Digital Product"})]})]}),D.digitalItem?e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-md border border-blue-100",children:[D.digitalItem.code&&e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wider block mb-1",children:"Code"}),e.jsx("div",{className:"font-mono text-lg font-bold text-gray-800 bg-white px-3 py-1 rounded border border-blue-200 inline-block select-all",children:D.digitalItem.code})]}),D.digitalItem.email&&e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wider block mb-1",children:"Email"}),e.jsx("div",{className:"font-mono text-gray-800 bg-white px-3 py-1 rounded border border-blue-200 inline-block select-all",children:D.digitalItem.email})]}),D.digitalItem.password&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wider block mb-1",children:"Password"}),e.jsx("div",{className:"font-mono text-gray-800 bg-white px-3 py-1 rounded border border-blue-200 inline-block select-all",children:D.digitalItem.password})]})]}):e.jsx("div",{className:"mt-3 text-amber-600 text-sm italic",children:"Product details will be sent to your email."})]},F))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Order Total"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:h(te)})]}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs("button",{onClick:ee,className:"px-8 py-4 bg-gray-100 text-gray-900 rounded-xl font-semibold hover:bg-gray-200 transition-all flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5"}),"Download Receipt"]}),e.jsx("button",{onClick:l,className:"px-8 py-4 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-xl font-semibold shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:"Continue Shopping"})]})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 font-medium mb-4",children:"← Back to Cart"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"})]}),e.jsx("div",{className:"flex items-center justify-center mb-8 gap-4",children:["info","delivery","payment"].map((D,F)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${b===D?"bg-red-600 text-white":["info","delivery"].includes(D)&&["delivery","payment"].includes(b)?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:F+1}),F<2&&e.jsx("div",{className:`w-16 h-1 ${["delivery","payment"].includes(b)&&F===0||b==="payment"&&F===1?"bg-green-500":"bg-gray-200"}`})]},D))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("form",{onSubmit:ne,className:"bg-white rounded-2xl shadow-lg p-8",children:[b==="info"&&e.jsxs($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:e.jsx(se,{className:"w-5 h-5 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",name:"fullName",value:p.fullName,onChange:L,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"John Doe",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:p.email,onChange:L,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"john@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phone",value:p.phone,onChange:L,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"+1 (555) 000-0000",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-8 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:e.jsx(Se,{className:"w-5 h-5 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Shipping Address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),e.jsx("input",{type:"text",name:"address",value:p.address,onChange:L,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"123 Main St, Apt 4B",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",name:"city",value:p.city,onChange:L,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"New York",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),e.jsx("input",{type:"text",name:"state",value:p.state,onChange:L,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"NY",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),e.jsx("input",{type:"text",name:"zipCode",value:p.zipCode,onChange:L,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"10001",required:!0})]})]})]}),b==="delivery"&&e.jsxs($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:e.jsx(xe,{className:"w-5 h-5 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Delivery Method"})]}),e.jsx("div",{className:"space-y-4",children:d.length===0?e.jsx("p",{className:"text-gray-600",children:"Loading delivery options..."}):d.map(D=>e.jsxs("label",{className:`flex items-center justify-between p-4 border-2 rounded-xl cursor-pointer transition-all ${a===D.id?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"radio",name:"delivery",value:D.id,checked:a===D.id,onChange:F=>m(F.target.value),className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:D.name}),e.jsx("p",{className:"text-sm text-gray-600",children:D.description}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:D.estimatedDays})]})]}),e.jsx("p",{className:"font-bold text-red-600",children:D.price===0?"FREE":`$${D.price.toFixed(2)}`})]},D.id))})]}),b==="payment"&&e.jsxs($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:e.jsx(Be,{className:"w-5 h-5 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Method"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${S==="card"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"card",checked:S==="card",onChange:D=>v(D.target.value),className:"w-5 h-5 text-red-600 mr-4"}),e.jsx(Be,{className:"w-6 h-6 text-gray-700 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Credit Card (PayTabs)"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Secure payment via PayTabs gateway"})]})]}),e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${S==="cod"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:S==="cod",onChange:D=>v(D.target.value),className:"w-5 h-5 text-red-600 mr-4"}),e.jsx(xe,{className:"w-6 h-6 text-gray-700 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Cash on Delivery"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pay when you receive your order"})]})]}),e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${S==="instapay"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"instapay",checked:S==="instapay",onChange:D=>v(D.target.value),className:"w-5 h-5 text-red-600 mr-4"}),e.jsx("div",{className:"w-6 h-6 mr-3 flex items-center justify-center text-lg",children:"🏦"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Instapay Transfer"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Transfer and upload screenshot"})]})]}),e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${S==="vodafone_cash"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"vodafone_cash",checked:S==="vodafone_cash",onChange:D=>v(D.target.value),className:"w-5 h-5 text-red-600 mr-4"}),e.jsx("div",{className:"w-6 h-6 mr-3 flex items-center justify-center text-lg",children:"📱"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Vodafone Cash"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Transfer and upload screenshot"})]})]}),e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${S==="telda"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"telda",checked:S==="telda",onChange:D=>v(D.target.value),className:"w-5 h-5 text-red-600 mr-4"}),e.jsx("div",{className:"w-6 h-6 mr-3 flex items-center justify-center text-lg",children:"💳"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Telda"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Transfer and upload screenshot"})]})]})]}),e.jsxs("div",{className:"mt-6 p-6 bg-gray-50 rounded-xl border border-gray-200",children:[S==="card"&&e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-700 mb-2",children:"You will be redirected to PayTabs to complete your purchase securely."})}),S==="cod"&&e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-700",children:"Please have the exact amount ready upon delivery."})}),S==="instapay"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-2",children:"Instapay Details:"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Instapay ID: ",e.jsx("span",{className:"font-mono font-bold text-gray-900",children:"username@instapay"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",e.jsx("span",{className:"font-mono font-bold text-gray-900",children:"01234567890"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Payment Screenshot"}),e.jsx("input",{type:"file",accept:"image/*",onChange:ie,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please upload a clear screenshot of the transaction receipt."})]})]}),S==="vodafone_cash"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-2",children:"Vodafone Cash Details:"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",e.jsx("span",{className:"font-mono font-bold text-gray-900",children:"010xxxxxxxx"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Payment Screenshot"}),e.jsx("input",{type:"file",accept:"image/*",onChange:ie,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please upload a clear screenshot of the transaction receipt."})]})]}),S==="telda"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-2",children:"Telda Details:"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Telda ID: ",e.jsx("span",{className:"font-mono font-bold text-gray-900",children:"username@telda"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Payment Screenshot"}),e.jsx("input",{type:"file",accept:"image/*",onChange:ie,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please upload a clear screenshot of the transaction receipt."})]})]})]})]}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[b!=="info"&&e.jsx("button",{type:"button",onClick:()=>{b==="delivery"&&o("info"),b==="payment"&&o("delivery")},className:"flex-1 py-3 px-6 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Back"}),e.jsx("button",{type:"submit",disabled:y,className:"flex-1 py-3 px-6 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-semibold shadow-lg shadow-red-500/30 hover:shadow-xl transition-all disabled:opacity-50",children:y?"Processing...":b==="payment"?"Place Order":"Continue"})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-24",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),e.jsx("div",{className:"space-y-3 mb-4 max-h-64 overflow-y-auto",children:g.map(D=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("img",{src:D.image,alt:D.name,className:"w-16 h-16 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm text-gray-900 line-clamp-1",children:D.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",D.quantity]}),e.jsxs("p",{className:"text-sm font-bold text-red-600",children:["$",(D.price*D.quantity).toFixed(2)]})]})]},D.id))}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"font-semibold",children:["$",E.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Delivery"}),e.jsx("span",{className:"font-semibold",children:K===0?"FREE":`$${K.toFixed(2)}`})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Tax"}),e.jsxs("span",{className:"font-semibold",children:["$",H.toFixed(2)]})]}),e.jsxs("div",{className:"border-t border-gray-300 pt-2 flex justify-between text-lg font-bold text-gray-900",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-red-600",children:["$",te.toFixed(2)]})]})]})]})})]})]}),e.jsxs("div",{ref:n,className:`${k?"fixed left-[-9999px] top-0 z-[-1]":"hidden"} w-[210mm] min-h-[297mm] bg-white p-8`,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"GamesUp Store"}),e.jsx("p",{className:"text-gray-600",children:"Order Receipt"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:new Date().toLocaleString()})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Customer:"}),e.jsx("span",{children:p.fullName})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Email:"}),e.jsx("span",{children:p.email})]})]}),e.jsxs("table",{className:"w-full mb-8",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-200",children:[e.jsx("th",{className:"text-left py-2",children:"Item"}),e.jsx("th",{className:"text-right py-2",children:"Qty"}),e.jsx("th",{className:"text-right py-2",children:"Price"})]})}),e.jsx("tbody",{children:u.map((D,F)=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsxs("td",{className:"py-2",children:[e.jsx("div",{children:D.name}),D.attributes&&Object.keys(D.attributes).length>0&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Object.entries(D.attributes).map(([j,I])=>e.jsxs("span",{className:"mr-2",children:[j,": ",String(I)]},j))})]}),e.jsx("td",{className:"text-right py-2",children:"1"}),e.jsx("td",{className:"text-right py-2",children:h(D.price||D.amount||0)})]},F))})]}),e.jsx("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:h(te)})]})}),e.jsxs("div",{className:"mt-12 text-center text-sm text-gray-500",children:[e.jsx("p",{children:"Thank you for your purchase!"}),e.jsx("p",{children:"www.gamesup.com"})]})]})]})}function Ea({onBack:t}){const[l,h]=r.useState(!1),[f,n]=r.useState(!1),[b,o]=r.useState(null),[k,c]=r.useState({name:"",email:"",phone:"",address:"",city:"",state:"",zipCode:""});r.useEffect(()=>{g()},[]);const g=()=>{const s=localStorage.getItem("customerSession");if(s)try{const d=JSON.parse(s);o(d.user),c({name:d.user.name||"",email:d.user.email||"",phone:d.user.phone||"",address:d.user.address||"",city:d.user.city||"",state:d.user.state||"",zipCode:d.user.zipCode||""})}catch(d){console.error("Error loading user profile:",d)}},i=s=>{c({...k,[s.target.name]:s.target.value})},u=async()=>{n(!0);try{const s=localStorage.getItem("customerSession");if(s){const d=JSON.parse(s);d.user={...d.user,...k},localStorage.setItem("customerSession",JSON.stringify(d)),o(d.user)}h(!1)}catch(s){console.error("Error saving profile:",s)}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 font-medium mb-4",children:"← Back to Home"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),!l&&e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:[e.jsx(je,{className:"w-4 h-4"}),"Edit Profile"]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-500 p-8 text-white",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-4 border-white/30",children:e.jsx(se,{className:"w-12 h-12"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-1",children:b?.name||"Guest User"}),e.jsx("p",{className:"text-red-100",children:b?.email||"No email provided"})]})]})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5 text-red-600"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",name:"name",value:k.name,onChange:i,disabled:!l,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ye,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:k.email,onChange:i,disabled:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-100 border border-gray-300 rounded-lg cursor-not-allowed",placeholder:"john@example.com"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"tel",name:"phone",value:k.phone,onChange:i,disabled:!l,className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"+1 (555) 000-0000"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Se,{className:"w-5 h-5 text-red-600"}),"Default Shipping Address"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),e.jsx("input",{type:"text",name:"address",value:k.address,onChange:i,disabled:!l,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"123 Main St, Apt 4B"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",name:"city",value:k.city,onChange:i,disabled:!l,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"New York"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),e.jsx("input",{type:"text",name:"state",value:k.state,onChange:i,disabled:!l,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"NY"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),e.jsx("input",{type:"text",name:"zipCode",value:k.zipCode,onChange:i,disabled:!l,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"10001"})]})]})]})]}),l&&e.jsxs("div",{className:"flex gap-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{h(!1),g()},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:u,disabled:f,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-semibold shadow-lg shadow-red-500/30 hover:shadow-xl transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(He,{className:"w-5 h-5"}),f?"Saving...":"Save Changes"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[e.jsxs($.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(se,{className:"w-6 h-6 text-red-600"})}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Member Since"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:new Date().toLocaleDateString("en-US",{month:"short",year:"numeric"})})]}),e.jsxs($.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Orders"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:"0"})]}),e.jsxs($.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(se,{className:"w-6 h-6 text-blue-600"})}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Wishlist Items"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:"0"})]})]})]})})}function Ta({onBack:t,onOrderAgain:l,onTrackOrder:h}){const[f,n]=r.useState([]),[b,o]=r.useState(!0),[k,c]=r.useState(null),[g,i]=r.useState(null);r.useEffect(()=>{u()},[]);const u=async()=>{const m=localStorage.getItem("customerSession");if(m)try{const y=JSON.parse(m);i(y.user),await s(y.user.email)}catch(y){console.error("Error loading user session:",y)}o(!1)},s=async m=>{try{const y=await fetch(`${M}/customer-orders?email=${encodeURIComponent(m)}`,{headers:{Authorization:`Bearer ${G}`}});if(y.ok){const A=await y.json();n(A.orders||[])}}catch(y){console.error("Error loading orders:",y)}},d=m=>{l(m.items)},x=m=>{switch(m){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=m=>{switch(m){case"pending":return e.jsx($e,{className:"w-4 h-4"});case"processing":return e.jsx(St,{className:"w-4 h-4"});case"shipped":return e.jsx(xe,{className:"w-4 h-4"});case"delivered":return e.jsx(Ee,{className:"w-4 h-4"});default:return e.jsx(Y,{className:"w-4 h-4"})}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 font-medium mb-4",children:"← Back to Home"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Orders"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"View and track your order history"})]}),b?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-red-200 border-t-red-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your orders..."})]}):f.length===0?e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ae,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No orders yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start shopping to see your orders here!"}),e.jsx("button",{onClick:t,className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:"Start Shopping"})]}):e.jsx("div",{className:"space-y-4",children:f.map(m=>e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-500 p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-red-100 mb-1",children:["Order #",m.orderNumber]}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",m.total.toFixed(2)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-red-100 mb-1",children:"Order Date"}),e.jsx("p",{className:"font-semibold",children:new Date(m.date).toLocaleDateString()})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-semibold ${x(m.status)}`,children:[a(m.status),m.status.charAt(0).toUpperCase()+m.status.slice(1)]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["via ",m.deliveryMethod]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>c(k?.id===m.id?null:m),className:"flex items-center gap-2 px-4 py-2 border-2 border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:[e.jsx(we,{className:"w-4 h-4"}),k?.id===m.id?"Hide":"View"," Details"]}),e.jsxs("button",{onClick:()=>d(m),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:[e.jsx(St,{className:"w-4 h-4"}),"Order Again"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsxs("span",{children:[m.items.length," item(s)"]})]}),k?.id===m.id&&e.jsxs($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Order Items"}),e.jsx("div",{className:"space-y-3",children:m.items.map((y,A)=>e.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("img",{src:y.image,alt:y.name,className:"w-20 h-20 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-semibold text-gray-900",children:y.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",y.quantity]}),e.jsxs("p",{className:"text-sm font-bold text-red-600 mt-1",children:["$",(y.price*y.quantity).toFixed(2)]}),["delivered","completed","paid"].includes(m.status)&&(y.digital_email||y.digital_code||y.digital_password)&&e.jsxs("div",{className:"mt-3 p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsxs("h4",{className:"font-bold text-sm text-green-800 mb-3 flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4"}),"Digital Account Credentials"]}),e.jsxs("div",{className:"space-y-3",children:[y.digital_email&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-semibold text-green-700 uppercase tracking-wider",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 bg-white px-3 py-2 rounded-lg border border-green-200 text-green-900 text-sm font-mono select-all shadow-sm",children:y.digital_email}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(y.digital_email),className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-100 rounded-lg transition-colors",title:"Copy Email",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),y.digital_password&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-semibold text-green-700 uppercase tracking-wider",children:"Password"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 bg-white px-3 py-2 rounded-lg border border-green-200 text-green-900 text-sm font-mono select-all shadow-sm",children:y.digital_password}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(y.digital_password),className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-100 rounded-lg transition-colors",title:"Copy Password",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),y.digital_code&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-semibold text-green-700 uppercase tracking-wider",children:"License Code"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 bg-white px-3 py-2 rounded-lg border border-green-200 text-green-900 text-sm font-mono select-all shadow-sm tracking-wide",children:y.digital_code}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(y.digital_code),className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-100 rounded-lg transition-colors",title:"Copy Code",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]})]})]})]})]},A))}),m.shippingAddress&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Shipping Address"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[m.shippingAddress.street,", ",m.shippingAddress.city,", ",m.shippingAddress.state,", ",m.shippingAddress.zipCode]}),e.jsx("p",{className:"text-sm text-gray-600",children:m.shippingAddress.country})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>h(m.orderNumber),className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"Track Order"]})})]})]})]},m.id))})]})})}function $a({onBack:t,onAddToCart:l}){const[h,f]=r.useState([]),[n,b]=r.useState(!0);r.useEffect(()=>{o()},[]);const o=()=>{try{const g=localStorage.getItem("favorites");g&&f(JSON.parse(g))}catch(g){console.error("Error loading favorites:",g)}finally{b(!1)}},k=g=>{const i=h.filter(u=>u.id!==g);f(i),localStorage.setItem("favorites",JSON.stringify(i))},c=g=>{l(g),alert("Added to cart!")};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 font-medium mb-4",children:"← Back to Home"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:e.jsx(Ne,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Favorites"}),e.jsxs("p",{className:"text-gray-600",children:[h.length," item(s) in your wishlist"]})]})]})]}),n?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-red-200 border-t-red-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your favorites..."})]}):h.length===0?e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ne,{className:"w-10 h-10 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No favorites yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start adding products to your wishlist!"}),e.jsx("button",{onClick:t,className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:"Browse Products"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(g=>e.jsxs($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all group",children:[e.jsxs("div",{className:"relative h-64 bg-gray-100 overflow-hidden",children:[e.jsx("img",{src:g.image,alt:g.name,onError:i=>{i.currentTarget.src="https://placehold.co/400x300?text=No+Image",i.currentTarget.onerror=null},className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("button",{onClick:()=>k(g.id),className:"absolute top-4 right-4 p-2 bg-white/90 backdrop-blur-sm rounded-full shadow-lg hover:bg-red-50 transition-colors group",children:e.jsx(Ne,{className:"w-5 h-5 text-red-600 fill-red-600"})}),g.category&&e.jsx("div",{className:"absolute top-4 left-4 px-3 py-1 bg-black/60 backdrop-blur-sm rounded-full",children:e.jsx("span",{className:"text-white text-xs font-semibold",children:g.category})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:g.name}),g.rating&&e.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[[...Array(5)].map((i,u)=>e.jsx(ke,{className:`w-4 h-4 ${u<g.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},u)),e.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",g.rating,")"]})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",g.price.toFixed(2)]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>c(g),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:[e.jsx(ae,{className:"w-4 h-4"}),"Add to Cart"]}),e.jsx("button",{onClick:()=>k(g.id),className:"px-4 py-3 border-2 border-gray-300 text-gray-600 rounded-lg hover:bg-red-50 hover:border-red-300 hover:text-red-600 transition-colors",children:e.jsx(re,{className:"w-4 h-4"})})]})]})]},g.id))}),h.length>0&&e.jsx("div",{className:"mt-8 bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Add All to Cart"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quickly add all ",h.length," favorite items to your cart"]})]}),e.jsxs("button",{onClick:()=>{h.forEach(g=>l(g)),alert(`Added ${h.length} items to cart!`)},className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5"}),"Add All to Cart"]})]})})]})})}function _a({onBack:t}){const[l,h]=r.useState(""),[f,n]=r.useState(null),[b,o]=r.useState(!1),[k,c]=r.useState(""),g=async s=>{s.preventDefault(),o(!0),c(""),n(null);try{const d=await fetch(`${M}/track-order/${l}`,{headers:{Authorization:`Bearer ${G}`}});if(d.ok){const x=await d.json();n(x.order)}else c("Order not found. Please check your order number and try again.")}catch(d){console.error("Error tracking order:",d),c("Failed to track order. Please try again later.")}finally{o(!1)}},i=s=>["pending","processing","shipped","delivered"].indexOf(s),u=[{id:"pending",label:"Order Placed",icon:Y,description:"Your order has been received"},{id:"processing",label:"Processing",icon:$e,description:"We are preparing your order"},{id:"shipped",label:"Shipped",icon:xe,description:"Your order is on the way"},{id:"delivered",label:"Delivered",icon:Ee,description:"Order delivered successfully"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-red-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 font-medium mb-4",children:"← Back to Home"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Track Your Order"}),e.jsx("p",{className:"text-gray-600",children:"Enter your order number to track your delivery"})]}),e.jsx($.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:g,className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(le,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:l,onChange:s=>h(s.target.value),placeholder:"Enter order number (e.g., GU12345678)",className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 text-lg",required:!0})]}),e.jsx("button",{type:"submit",disabled:b,className:"px-8 py-4 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-xl font-semibold shadow-lg shadow-red-500/30 hover:shadow-xl transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Tracking..."]}):e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"w-5 h-5"}),"Track Order"]})})]})}),k&&e.jsx($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-red-50 border-2 border-red-200 rounded-xl p-6 mb-8 text-center",children:e.jsx("p",{className:"text-red-800 font-medium",children:k})}),f&&e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-500 p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-100 mb-1",children:"Order Number"}),e.jsx("p",{className:"text-2xl font-bold",children:f.orderNumber})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-red-100 mb-1",children:"Order Date"}),e.jsx("p",{className:"font-semibold",children:new Date(f.date).toLocaleDateString()})]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Delivery Status"}),e.jsx("div",{className:"relative",children:u.map((s,d)=>{const x=i(f.status),a=d<=x,m=d===x,y=s.icon;return e.jsxs("div",{className:"relative flex gap-4 pb-8 last:pb-0",children:[d<u.length-1&&e.jsx("div",{className:`absolute left-6 top-12 w-0.5 h-full ${a?"bg-green-500":"bg-gray-200"}`}),e.jsx("div",{className:`relative z-10 w-12 h-12 rounded-full flex items-center justify-center ${a?"bg-green-500 text-white":"bg-gray-200 text-gray-400"} ${m?"ring-4 ring-green-200":""}`,children:e.jsx(y,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1 pt-1",children:[e.jsx("p",{className:`font-bold ${a?"text-gray-900":"text-gray-400"}`,children:s.label}),e.jsx("p",{className:`text-sm ${a?"text-gray-600":"text-gray-400"}`,children:s.description}),m&&e.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-green-100 text-green-800 text-xs font-semibold rounded-full",children:"Current Status"})]})]},s.id)})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Se,{className:"w-5 h-5 text-red-600"}),"Shipping Address"]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:f.shippingAddress?.fullName}),e.jsx("p",{className:"text-gray-600 mt-1",children:f.shippingAddress?.address}),e.jsxs("p",{className:"text-gray-600",children:[f.shippingAddress?.city,", ",f.shippingAddress?.state," ",f.shippingAddress?.zipCode]}),e.jsxs("p",{className:"text-gray-600 mt-2",children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",f.shippingAddress?.phone]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5 text-red-600"}),"Order Items (",f.items?.length||0,")"]}),e.jsx("div",{className:"space-y-3",children:f.items?.map((s,d)=>e.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-xl",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-20 h-20 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",s.quantity]}),e.jsxs("p",{className:"text-sm font-bold text-red-600 mt-1",children:["$",(s.price*s.quantity).toFixed(2)]})]})]},d))}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900",children:[e.jsx("span",{children:"Order Total"}),e.jsxs("span",{className:"text-red-600",children:["$",f.total?.toFixed(2)]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5 text-red-600"}),"Delivery Method"]}),e.jsx("p",{className:"text-gray-700 font-medium",children:f.deliveryMethod})]})]})]})})}function Fa(){const t=Ds(),l=ht();ut();const[h,f]=r.useState(!1),{settings:n}=de(),o=(()=>{const s=t.pathname;return s==="/"||s===""?"home":s==="/shop"?"shop":s==="/checkout"?"checkout":s==="/login"?"login":s==="/signup"?"signup":s==="/profile"?"profile":s==="/orders"?"orders":s==="/favorites"?"favorites":s==="/track"?"track":s.startsWith("/product/")?"product":"home"})(),k=t.pathname.startsWith("/product/")?t.pathname.split("/product/")[1]:null,c=(s,d,x)=>{s==="home"?l("/"):s==="shop"?l(x?`/shop?category=${x}`:"/shop"):s==="product"&&d?l(`/product/${d}`):s==="checkout"?l("/checkout"):s==="login"?l("/login"):s==="signup"?l("/signup"):s==="profile"?l("/profile"):s==="orders"?l("/orders"):s==="favorites"?l("/favorites"):s==="track"&&l("/track"),window.scrollTo({top:0,behavior:"smooth"})},g=s=>{const x=[...JSON.parse(localStorage.getItem("cart")||"[]")];s.forEach(a=>{const m=x.findIndex(y=>y.id===a.id);m>=0?x[m].quantity+=a.quantity:x.push({...a})}),localStorage.setItem("cart",JSON.stringify(x)),alert("Items added to cart!"),c("shop")},i=s=>{const d=JSON.parse(localStorage.getItem("cart")||"[]"),x=d.findIndex(a=>a.id===s.id);x>=0?d[x].quantity+=1:d.push({...s,quantity:1}),localStorage.setItem("cart",JSON.stringify(d))};if(r.useEffect(()=>{if(n.website_title&&(document.title=n.website_title),n.website_description){let s=document.querySelector('meta[name="description"]');s||(s=document.createElement("meta"),s.name="description",document.head.appendChild(s)),s.content=n.website_description}if(n.website_favicon){let s=document.querySelector('link[rel="icon"]');s||(s=document.createElement("link"),s.rel="icon",document.head.appendChild(s)),s.href=n.website_favicon}},[n.website_title,n.website_description,n.website_favicon]),o==="login"||o==="signup")return e.jsx(Da,{mode:o,onSuccess:()=>c("home"),onSwitchMode:s=>c(s)});if(o==="checkout")return e.jsx(Oa,{onBack:()=>c("shop"),onSuccess:()=>c("shop")});if(o==="profile")return e.jsx(Ea,{onBack:()=>c("home")});if(o==="orders")return e.jsx(Ta,{onBack:()=>c("home"),onOrderAgain:g,onTrackOrder:s=>{c("track")}});if(o==="favorites")return e.jsx($a,{onBack:()=>c("home"),onAddToCart:i});if(o==="track")return e.jsx(_a,{onBack:()=>c("home")});const u=()=>{switch(o){case"home":return e.jsx(It,{onNavigate:c,onOpenCart:()=>f(!0)});case"shop":return e.jsx(Aa,{onNavigate:c,onOpenCart:()=>f(!0)});case"product":return e.jsx(Ia,{onOpenCart:()=>f(!0),productId:k});default:return e.jsx(It,{onNavigate:c,onOpenCart:()=>f(!0)})}};return e.jsx(Pa,{currentPage:o,onNavigate:c,isCartOpen:h,onOpenCart:()=>f(!0),onCloseCart:()=>f(!1),children:u()})}function La(){return e.jsx(Hs,{children:e.jsx(Os,{children:e.jsxs(Mt,{children:[e.jsx(W,{path:"/admin/*",element:e.jsx(Na,{})}),e.jsx(W,{path:"/*",element:e.jsx(Fa,{})})]})})})}class Ra extends r.Component{state={hasError:!1,error:null};static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,h){console.error("Uncaught error:",l,h)}render(){return this.state.hasError?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-50 dark:bg-gray-900 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 max-w-md",children:this.state.error?.message||"An unexpected error occurred."}),e.jsx(R,{onClick:()=>window.location.reload(),children:"Reload Page"})]}):this.props.children}}Wt.createRoot(document.getElementById("root")).render(e.jsx(Ra,{children:e.jsx(La,{})}));
